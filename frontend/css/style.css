/* Neon Glassmorphic Kanban Board */
/*
 * BREAKPOINTS STANDARDIZED (2025-06-30)
 * Standard breakpoint system:
 *   - 640px  (sm) - Mobile phones
 *   - 768px  (md) - Tablet portrait
 *   - 1024px (lg) - Tablet landscape
 *   - 1280px (xl) - Desktop
 *
 * Old breakpoints migrated:
 *   - 480px, 600px â†’ 640px
 *   - 680px â†’ 768px
 *   - 900px â†’ 1024px
 *   - 1200px, 1400px â†’ 1280px
 */
@import url('calendar.css');

:root {
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    --blur: blur(12px);
    
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.75);
    --text-muted: rgba(255, 255, 255, 0.5);
    
    --neon-purple: #bf5af2;
    --neon-blue: #0af;
    --neon-cyan: #00f5d4;
    --neon-pink: #ff2a6d;
    --neon-orange: #ff6b35;
    --neon-yellow: #ffe66d;
    --neon-green: #05ffa1;
    
    --accent: var(--neon-purple);
    --accent-hover: #d17ff7;
    --danger: var(--neon-pink);
    --danger-hover: #ff5a8a;
    
    --column-planned: rgba(191, 90, 242, 0.15);
    --column-ready: rgba(0, 170, 255, 0.15);
    --column-progress: rgba(255, 107, 53, 0.15);
    --column-blocked: rgba(255, 42, 109, 0.15);
    --column-review: rgba(255, 230, 109, 0.15);
    --column-done: rgba(5, 255, 161, 0.15);
    
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Background handled by particles.js canvas */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    min-height: 100vh;
    background: #0a0a0f;
    color: var(--text-primary);
    line-height: 1.5;
    overflow-x: hidden;
}

/* Header */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 2rem;
    background: rgba(10, 10, 15, 0.7);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border-bottom: 1px solid var(--glass-border);
    position: sticky;
    top: 0;
    z-index: 100;
}

/* Tabs Navigation */
.tabs {
    display: flex;
    gap: 0.25rem;
}

.tab {
    height: 30px;
    padding: 0 1.5rem;
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    color: var(--text-secondary);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
}

.tab:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.03);
}

.tab.active {
    color: var(--neon-purple);
    border-bottom-color: var(--neon-purple);
    text-shadow: 0 0 20px var(--neon-purple);
}

/* Tab Content */
.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* View Controls Bar */
.view-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background: rgba(10, 10, 15, 0.5);
    border-bottom: 1px solid var(--glass-border);
}

.view-toggle {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.03);
    padding: 0.25rem;
    border-radius: 10px;
    border: 1px solid var(--glass-border);
}

.view-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: transparent;
    border: none;
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.view-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.view-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.2);
}

.view-btn svg {
    opacity: 0.8;
}

.view-btn.active svg {
    opacity: 1;
}

.view-filters {
    display: flex;
    gap: 0.75rem;
}

.filter-select {
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.8rem;
    cursor: pointer;
    transition: var(--transition);
}

.filter-select:hover,
.filter-select:focus {
    border-color: var(--neon-purple);
    outline: none;
}

.filter-select option {
    background: #0a0a0f;
}

/* View Containers */
.view-container {
    display: none;
}

.view-container.active {
    display: block;
}

.header h1 {
    font-size: 1.5rem;
    font-weight: 600;
    letter-spacing: -0.02em;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.refresh-indicator {
    font-size: 1.25rem;
    opacity: 0.5;
    cursor: default;
    transition: var(--transition);
}

.refresh-indicator.spinning {
    animation: spin 1s linear infinite;
    opacity: 1;
    color: var(--neon-cyan);
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Buttons */
.btn {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.btn-primary {
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue));
    color: white;
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.3);
}

.btn-primary:hover {
    box-shadow: 0 0 30px rgba(191, 90, 242, 0.5);
    transform: translateY(-2px);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    border: 1px solid var(--glass-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
}

.btn-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    padding: 0;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: 50%;
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition);
}

.btn-icon:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--neon-purple);
    border-color: var(--neon-purple);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.3);
}

.btn-danger {
    background: linear-gradient(135deg, var(--neon-pink), var(--neon-orange));
    color: white;
    box-shadow: 0 0 20px rgba(255, 42, 109, 0.3);
}

.btn-danger:hover {
    box-shadow: 0 0 30px rgba(255, 42, 109, 0.5);
}

.btn-small {
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
}

/* Board */
.board-container {
    padding: 1.5rem;
    overflow-x: auto;
}

.board {
    display: grid;
    grid-template-columns: repeat(6, minmax(280px, 1fr));
    gap: 1rem;
    min-height: calc(100vh - 120px);
}

/* Columns - More translucent */
.column {
    display: flex;
    flex-direction: column;
    background: rgba(15, 15, 25, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    overflow: hidden;
    transition: var(--transition);
}

.column:hover {
    border-color: rgba(255, 255, 255, 0.1);
}

.column-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
}

.column-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
}

.column-header h2 {
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.column-header.planned { 
    background: var(--column-planned);
}
.column-header.planned h2 { 
    color: var(--neon-purple);
    text-shadow: 0 0 20px var(--neon-purple);
}
.column-header.planned::after { 
    background: linear-gradient(90deg, var(--neon-purple), transparent);
    box-shadow: 0 0 10px var(--neon-purple);
}

.column-header.ready { 
    background: var(--column-ready);
}
.column-header.ready h2 { 
    color: var(--neon-blue);
    text-shadow: 0 0 20px var(--neon-blue);
}
.column-header.ready::after { 
    background: linear-gradient(90deg, var(--neon-blue), transparent);
    box-shadow: 0 0 10px var(--neon-blue);
}

.column-header.in-progress { 
    background: var(--column-progress);
}
.column-header.in-progress h2 { 
    color: var(--neon-orange);
    text-shadow: 0 0 20px var(--neon-orange);
}
.column-header.in-progress::after { 
    background: linear-gradient(90deg, var(--neon-orange), transparent);
    box-shadow: 0 0 10px var(--neon-orange);
}

.column-header.blocked { 
    background: var(--column-blocked);
}
.column-header.blocked h2 { 
    color: var(--neon-pink);
    text-shadow: 0 0 20px var(--neon-pink);
}
.column-header.blocked::after { 
    background: linear-gradient(90deg, var(--neon-pink), transparent);
    box-shadow: 0 0 10px var(--neon-pink);
}

.column-header.review { 
    background: var(--column-review);
}
.column-header.review h2 { 
    color: var(--neon-yellow);
    text-shadow: 0 0 20px var(--neon-yellow);
}
.column-header.review::after { 
    background: linear-gradient(90deg, var(--neon-yellow), transparent);
    box-shadow: 0 0 10px var(--neon-yellow);
}

.column-header.done { 
    background: var(--column-done);
}
.column-header.done h2 { 
    color: var(--neon-green);
    text-shadow: 0 0 20px var(--neon-green);
}
.column-header.done::after { 
    background: linear-gradient(90deg, var(--neon-green), transparent);
    box-shadow: 0 0 10px var(--neon-green);
}

.task-count {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.125rem 0.5rem;
    border-radius: 999px;
    font-size: 0.7rem;
    font-weight: 600;
}

.column-tasks {
    flex: 1;
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    overflow-y: auto;
    min-height: 200px;
}

.column-tasks.drag-over {
    background: rgba(255, 255, 255, 0.03);
}

/* Task Cards */
.task-card {
    background: rgba(20, 20, 35, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 0.875rem;
    cursor: pointer;
    transition: var(--transition);
}

.task-card:hover {
    background: rgba(30, 30, 50, 0.7);
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.task-card.dragging {
    opacity: 0.5;
    transform: scale(0.95);
}

.task-card-header {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}

.priority-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-top: 0.4rem;
    flex-shrink: 0;
    animation: glow 2s ease-in-out infinite alternate;
}

.priority-1 { 
    background: var(--neon-pink); 
    box-shadow: 0 0 12px var(--neon-pink), 0 0 24px var(--neon-pink);
}
.priority-2 { 
    background: var(--neon-orange); 
    box-shadow: 0 0 10px var(--neon-orange);
}
.priority-3 { 
    background: var(--neon-yellow); 
    box-shadow: 0 0 8px var(--neon-yellow);
}
.priority-4 { 
    background: var(--neon-green); 
    box-shadow: 0 0 6px var(--neon-green);
}
.priority-5 { 
    background: #6b7280; 
}

@keyframes glow {
    from { opacity: 0.8; }
    to { opacity: 1; }
}

.task-title {
    font-weight: 500;
    font-size: 0.875rem;
    line-height: 1.4;
}

.task-description {
    margin-top: 0.5rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.task-meta-row {
    display: flex;
    gap: 0.375rem;
    margin-top: 0.5rem;
}

.task-badge {
    width: 6px;
    height: 6px;
    border-radius: 50%;
}

.task-badge.has-criteria { background: var(--neon-purple); box-shadow: 0 0 6px var(--neon-purple); }
.task-badge.has-links { background: var(--neon-blue); box-shadow: 0 0 6px var(--neon-blue); }
.task-badge.has-notes { background: var(--neon-yellow); box-shadow: 0 0 6px var(--neon-yellow); }

/* Modal */
.modal {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
}

.modal.open {
    opacity: 1;
    visibility: visible;
}

.modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
}

.modal-content {
    position: relative;
    width: 100%;
    max-width: 560px;
    max-height: 90vh;
    background: rgba(15, 15, 25, 0.95);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    overflow: hidden;
    transform: scale(0.95) translateY(20px);
    transition: var(--transition);
    box-shadow: 
        0 0 60px rgba(191, 90, 242, 0.1),
        0 0 100px rgba(0, 170, 255, 0.05);
}

.modal.open .modal-content {
    transform: scale(1) translateY(0);
}

.modal-small {
    max-width: 400px;
}

.modal-wide {
    max-width: 900px;
}

/* Column View Modal - Card Grid */
.column-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1rem;
    max-height: 60vh;
    overflow-y: auto;
    padding: 0.5rem;
}

.column-view-card {
    background: rgba(20, 20, 35, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    padding: 1.25rem;
    cursor: pointer;
    transition: var(--transition);
}

.column-view-card:hover {
    background: rgba(30, 30, 50, 0.9);
    border-color: rgba(255, 255, 255, 0.15);
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

.column-view-card .card-header {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
}

.column-view-card .card-title {
    font-weight: 600;
    font-size: 1rem;
    line-height: 1.3;
}

.column-view-card .card-description {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
}

.column-view-card .card-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.75rem;
    color: var(--text-muted);
}

.column-view-card .card-criteria {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.column-view-card .card-criteria::before {
    content: 'âœ“';
    color: var(--neon-purple);
}

.column-view-card .card-links {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.column-view-card .card-links::before {
    content: 'ðŸ”—';
}

.column-view-card .card-notes-indicator {
    color: var(--neon-yellow);
}

.column-empty {
    text-align: center;
    color: var(--text-muted);
    padding: 3rem;
    font-size: 1rem;
}

/* Clickable column headers */
.column-header {
    cursor: pointer;
    transition: var(--transition);
}

.column-header:hover {
    filter: brightness(1.2);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.modal-title-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
    min-width: 0;
}

.modal-header h2 {
    font-size: 1.125rem;
    font-weight: 600;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 400px;
}

.modal-title-input {
    flex: 1;
    font-size: 1.125rem;
    font-weight: 600;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--neon-purple);
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
    color: var(--text-primary);
    max-width: 400px;
}

.modal-title-input:focus {
    outline: none;
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.3);
}

.edit-title-btn {
    background: transparent;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0.375rem;
    border-radius: 6px;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.edit-title-btn:hover {
    color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.1);
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0.25rem;
    line-height: 1;
    transition: var(--transition);
}

.modal-close:hover {
    color: var(--text-primary);
}

.modal-body {
    padding: 1.5rem;
    overflow-y: auto;
    max-height: calc(90vh - 180px);
}

.modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    background: rgba(0, 0, 0, 0.2);
}

.modal-actions {
    display: flex;
    gap: 0.75rem;
}

.modal:not(.editing) #delete-task {
    display: none;
}

/* Forms */
.form-group {
    margin-bottom: 1.25rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.375rem;
    font-size: 0.7rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-secondary);
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    color: var(--text-primary);
    font-size: 0.875rem;
    transition: var(--transition);
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--neon-purple);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.2);
    background: rgba(255, 255, 255, 0.05);
}

.form-group input::placeholder,
.form-group textarea::placeholder {
    color: var(--text-muted);
}

.form-group select option {
    background: #0a0a0f;
    color: var(--text-primary);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

/* List inputs */
.list-input {
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
    margin-bottom: 0.5rem;
}

.list-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    font-size: 0.8125rem;
}

.list-item a {
    color: var(--neon-cyan);
    text-decoration: none;
}

.list-item a:hover {
    text-shadow: 0 0 10px var(--neon-cyan);
}

.list-item-remove {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 1rem;
    padding: 0;
    line-height: 1;
    transition: var(--transition);
}

.list-item-remove:hover {
    color: var(--neon-pink);
}

.list-input-add {
    display: flex;
    gap: 0.5rem;
}

.list-input-add input {
    flex: 1;
}

/* Task meta */
.task-meta {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    font-size: 0.75rem;
    color: var(--text-muted);
}

.task-meta p {
    margin-bottom: 0.25rem;
}

.session-id {
    font-family: monospace;
    background: rgba(255, 255, 255, 0.05);
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
    color: var(--neon-cyan);
}

/* Activity Log */
.activity-log-section {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.activity-log-section label {
    display: block;
    margin-bottom: 0.75rem;
    font-size: 0.7rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-secondary);
}

.activity-log {
    max-height: 200px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.activity-log:empty::after {
    content: 'No activity yet';
    color: var(--text-muted);
    font-size: 0.8rem;
    font-style: italic;
}

.log-entry {
    display: flex;
    gap: 0.75rem;
    padding: 0.625rem 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    font-size: 0.8rem;
    border-left: 3px solid var(--glass-border);
}

.log-entry.type-created { border-left-color: var(--neon-green); }
.log-entry.type-status_change { border-left-color: var(--neon-blue); }
.log-entry.type-blocked { border-left-color: var(--neon-pink); }
.log-entry.type-review { border-left-color: var(--neon-yellow); }
.log-entry.type-note { border-left-color: var(--neon-purple); }

.log-entry-time {
    color: var(--text-muted);
    font-size: 0.7rem;
    white-space: nowrap;
    min-width: 65px;
}

.log-entry-message {
    flex: 1;
    color: var(--text-primary);
    line-height: 1.4;
}

/* ===================== */
/* READER VIEW           */
/* ===================== */

.modal-project {
    max-width: 700px;
}

.modal-header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.edit-mode-btn {
    background: transparent;
    border: 1px solid var(--glass-border);
    color: var(--text-secondary);
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
}

.edit-mode-btn:hover {
    color: var(--neon-purple);
    border-color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.1);
}

.reader-view {
    padding: 1.5rem;
}

.reader-meta {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
}

.priority-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
}

.priority-badge::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.priority-badge.priority-1::before { background: var(--neon-pink); box-shadow: 0 0 8px var(--neon-pink); }
.priority-badge.priority-2::before { background: var(--neon-orange); box-shadow: 0 0 6px var(--neon-orange); }
.priority-badge.priority-3::before { background: var(--neon-yellow); box-shadow: 0 0 6px var(--neon-yellow); }
.priority-badge.priority-4::before { background: var(--neon-green); box-shadow: 0 0 4px var(--neon-green); }
.priority-badge.priority-5::before { background: var(--text-muted); }

.reader-description {
    margin-bottom: 1.5rem;
    min-height: 2rem;
}

.reader-description:empty::after {
    content: 'No description';
    color: var(--text-muted);
    font-style: italic;
}

.reader-section {
    margin-bottom: 1.5rem;
}

.reader-section h4 {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
}

.reader-criteria,
.reader-links {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
}

.reader-criteria li {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    font-size: 0.875rem;
}

.reader-criteria li::before {
    content: 'â˜';
    color: var(--neon-purple);
}

.reader-links li a {
    color: var(--neon-cyan);
    text-decoration: none;
    font-size: 0.875rem;
    transition: var(--transition);
}

.reader-links li a:hover {
    text-shadow: 0 0 10px var(--neon-cyan);
}

.reader-notes {
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    font-size: 0.875rem;
}

/* ===================== */
/* MARKDOWN STYLING      */
/* ===================== */

.markdown-body {
    font-size: 0.9rem;
    line-height: 1.7;
    color: var(--text-primary);
}

.markdown-body strong {
    font-weight: 700;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.markdown-body em {
    font-style: italic;
    color: var(--text-secondary);
}

.markdown-body h1, 
.markdown-body h2, 
.markdown-body h3, 
.markdown-body h4 {
    margin: 1rem 0 0.5rem 0;
    font-weight: 600;
    color: var(--text-primary);
}

.markdown-body h1 { font-size: 1.5rem; }
.markdown-body h2 { font-size: 1.25rem; }
.markdown-body h3 { font-size: 1.1rem; }
.markdown-body h4 { font-size: 1rem; }

.markdown-body p {
    margin-bottom: 0.75rem;
}

.markdown-body ul, 
.markdown-body ol {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
}

.markdown-body li {
    margin-bottom: 0.25rem;
}

.markdown-body code {
    font-family: 'SF Mono', Monaco, 'Courier New', monospace;
    background: rgba(191, 90, 242, 0.15);
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
    font-size: 0.85em;
    color: var(--neon-purple);
}

.markdown-body pre {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 1rem;
    overflow-x: auto;
    margin: 0.75rem 0;
}

.markdown-body pre code {
    background: none;
    padding: 0;
    color: var(--text-primary);
}

.markdown-body a {
    color: var(--neon-cyan);
    text-decoration: none;
}

.markdown-body a:hover {
    text-shadow: 0 0 10px var(--neon-cyan);
}

.markdown-body blockquote {
    border-left: 3px solid var(--neon-purple);
    padding-left: 1rem;
    margin: 0.75rem 0;
    color: var(--text-secondary);
    font-style: italic;
}

/* ===================== */
/* INTERACTIVE REVIEW    */
/* ===================== */

/* Check All Row */
.check-all-row {
    padding: 0 !important;
    background: none !important;
    margin-top: 0.75rem;
}

.check-all-row::before {
    display: none !important;
}

/* Shared Action Button Styles (Check All & Submit Review) */
.action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
    padding: 0.875rem 1rem;
    border: none;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    
    /* Grayed out state (default) */
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-muted);
}

.action-btn:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.12);
    color: var(--text-secondary);
}

.action-btn.active {
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    color: white;
    box-shadow: 0 4px 20px rgba(191, 90, 242, 0.3);
}

.action-btn.active:hover {
    box-shadow: 0 6px 25px rgba(191, 90, 242, 0.4);
    transform: translateY(-1px);
}

.action-btn:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.reader-criteria li.review-criterion {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 0;
    background: none;
}

.reader-criteria li.review-criterion::before {
    display: none;
}

.criterion-main {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    transition: var(--transition);
}

.review-criterion.approved .criterion-main {
    background: rgba(5, 255, 161, 0.08);
    border-left: 3px solid var(--neon-green);
}

.review-criterion.needs-work .criterion-main {
    background: rgba(255, 42, 109, 0.08);
    border-left: 3px solid var(--neon-pink);
}

.criterion-checkbox {
    width: 24px;
    height: 24px;
    border: 2px solid var(--glass-border);
    border-radius: 6px;
    background: transparent;
    color: var(--neon-green);
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    flex-shrink: 0;
}

.criterion-checkbox:hover {
    border-color: var(--neon-green);
    background: rgba(5, 255, 161, 0.1);
}

.criterion-checkbox.checked {
    background: var(--neon-green);
    border-color: var(--neon-green);
    color: #0a0a0f;
    box-shadow: 0 0 12px rgba(5, 255, 161, 0.4);
}

.criterion-text {
    flex: 1;
    font-size: 0.875rem;
    color: var(--text-primary);
}

.criterion-comment-btn {
    background: transparent;
    border: 1px solid transparent;
    border-radius: 6px;
    padding: 0.375rem;
    cursor: pointer;
    font-size: 14px;
    opacity: 0.5;
    transition: var(--transition);
}

.criterion-comment-btn:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.05);
}

.criterion-comment-btn.has-comment {
    opacity: 1;
    background: rgba(255, 42, 109, 0.15);
    border-color: var(--neon-pink);
}

.criterion-comment-area {
    display: none;
    padding: 0 0.75rem 0.75rem 3rem;
}

.criterion-comment-area.open {
    display: block;
}

.criterion-comment-area textarea {
    width: 100%;
    min-height: 60px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 0.625rem 0.75rem;
    color: var(--text-primary);
    font-size: 0.8rem;
    resize: vertical;
    transition: var(--transition);
}

.criterion-comment-area textarea:focus {
    outline: none;
    border-color: var(--neon-pink);
    box-shadow: 0 0 10px rgba(255, 42, 109, 0.2);
}

.criterion-comment-area textarea::placeholder {
    color: var(--text-muted);
}

/* Submit Review Button - Sticky at bottom with fade zone above */
.submit-review-btn {
    position: sticky;
    bottom: 0;
    margin: 1rem 0 0 0;
    z-index: 10;
    
    /* Match action-btn sizing */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
    padding: 0.875rem 1rem;
    border: none;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    
    /* Solid floating appearance */
    background: rgba(30, 30, 45, 0.98);
    color: var(--text-muted);
    box-shadow: 0 -8px 20px rgba(0, 0, 0, 0.5), 0 4px 12px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Gradient fade zone above the sticky button */
.submit-review-btn::before {
    content: '';
    position: absolute;
    bottom: 100%;
    left: -1.5rem;
    right: -1.5rem;
    height: 40px;
    background: linear-gradient(to bottom, transparent, rgba(20, 20, 30, 0.95));
    pointer-events: none;
}

.submit-review-btn:hover:not(:disabled) {
    background: rgba(40, 40, 55, 0.98);
    color: var(--text-secondary);
}

.submit-review-btn.active {
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    color: white;
    box-shadow: 0 -8px 20px rgba(0, 0, 0, 0.5), 0 4px 20px rgba(191, 90, 242, 0.3);
}

.submit-review-btn.active:hover {
    box-shadow: 0 -8px 20px rgba(0, 0, 0, 0.5), 0 6px 25px rgba(191, 90, 242, 0.4);
    transform: translateY(-1px);
}

.submit-review-btn:disabled {
    cursor: not-allowed;
}

/* General Comment Row (inline in checklist) */
.general-comment-row {
    margin-top: 0.75rem;
    padding-top: 0.75rem;
    border-top: 1px solid var(--glass-border);
    list-style: none !important;
}

.general-comment-row::before {
    display: none !important;
}

.general-comment-textarea {
    width: 100%;
    min-height: 70px;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--accent);
    border-radius: 8px;
    color: var(--text-primary);
    font-family: inherit;
    font-size: 0.9rem;
    resize: vertical;
    transition: var(--transition);
    box-shadow: 0 0 0 2px rgba(191, 90, 242, 0.2);
}

.general-comment-textarea:focus {
    outline: none;
}

.general-comment-textarea::placeholder {
    color: var(--text-muted);
}

/* ===================== */
/* MARKDOWN TOOLBAR      */
/* ===================== */

.markdown-toolbar {
    display: flex;
    gap: 0.25rem;
    margin-bottom: 0.5rem;
    padding: 0.375rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--glass-border);
    border-radius: 8px 8px 0 0;
    border-bottom: none;
}

.markdown-toolbar + textarea {
    border-radius: 0 0 10px 10px;
}

.markdown-toolbar button {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 0.375rem 0.625rem;
    border-radius: 4px;
    font-size: 0.8rem;
    transition: var(--transition);
    min-width: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.markdown-toolbar button:hover {
    color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.1);
}

/* ===================== */
/* LIST VIEW             */
/* ===================== */

.list-view {
    padding: 1.5rem 2rem;
}

.task-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background: rgba(15, 15, 25, 0.4);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--glass-border);
}

.task-table thead {
    background: rgba(0, 0, 0, 0.3);
}

.task-table th {
    padding: 1rem 1.25rem;
    text-align: left;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--glass-border);
}

.task-table th.sortable {
    cursor: pointer;
    transition: var(--transition);
    user-select: none;
}

.task-table th.sortable:hover {
    color: var(--neon-purple);
}

.task-table th.sortable.sorted-asc::after {
    content: ' â†‘';
    color: var(--neon-cyan);
}

.task-table th.sortable.sorted-desc::after {
    content: ' â†“';
    color: var(--neon-cyan);
}

.task-table tbody tr {
    cursor: pointer;
    transition: var(--transition);
}

.task-table tbody tr:hover {
    background: rgba(255, 255, 255, 0.03);
}

.task-table td {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    font-size: 0.875rem;
}

.task-table tbody tr:last-child td {
    border-bottom: none;
}

.task-table .title-cell {
    font-weight: 500;
}

.task-table .status-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.status-badge.planned { background: var(--column-planned); color: var(--neon-purple); }
.status-badge.ready { background: var(--column-ready); color: var(--neon-blue); }
.status-badge.in_progress { background: var(--column-progress); color: var(--neon-orange); }
.status-badge.blocked { background: var(--column-blocked); color: var(--neon-pink); }
.status-badge.review { background: var(--column-review); color: var(--neon-yellow); }
.status-badge.done { background: var(--column-done); color: var(--neon-green); }

.empty-message {
    text-align: center;
    color: var(--text-muted);
    padding: 4rem 2rem;
    font-size: 1rem;
}

/* ===================== */
/* CARD VIEW             */
/* ===================== */

.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.25rem;
    padding: 1.5rem 2rem;
}

.project-card {
    background: rgba(20, 20, 35, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    padding: 1.5rem;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    overflow: hidden;
}

.project-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    opacity: 0.8;
}

.project-card.priority-1::before { background: linear-gradient(90deg, var(--neon-pink), transparent); }
.project-card.priority-2::before { background: linear-gradient(90deg, var(--neon-orange), transparent); }
.project-card.priority-3::before { background: linear-gradient(90deg, var(--neon-yellow), transparent); }
.project-card.priority-4::before { background: linear-gradient(90deg, var(--neon-green), transparent); }
.project-card.priority-5::before { background: linear-gradient(90deg, var(--text-muted), transparent); }

.project-card:hover {
    background: rgba(30, 30, 50, 0.7);
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

.project-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 0.75rem;
}

.project-card-title {
    font-weight: 600;
    font-size: 1rem;
    line-height: 1.3;
    flex: 1;
}

.project-card-priority {
    margin-left: 0.75rem;
}

.project-card-description {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 1rem;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
}

.project-card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.project-card-meta {
    display: flex;
    gap: 1rem;
    font-size: 0.75rem;
    color: var(--text-muted);
}

.project-card-meta span {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

/* Responsive */
/* Breakpoints standardized: 640px (sm), 768px (md), 1024px (lg), 1280px (xl) */
@media (max-width: 1280px) {
    .board {
        grid-template-columns: repeat(3, minmax(280px, 1fr));
    }
}

@media (max-width: 1024px) {
    .board {
        grid-template-columns: repeat(2, minmax(250px, 1fr));
    }
}

@media (max-width: 640px) {
    /* Header layout handled by header-mobile.css - don't override */
    
    .tabs {
        order: -1;
        width: 100%;
        justify-content: center;
    }

    .view-controls {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
    }

    .view-toggle {
        width: 100%;
        justify-content: center;
    }

    .view-filters {
        width: 100%;
        justify-content: center;
    }
    
    .board {
        grid-template-columns: 1fr;
    }
    
    .board-container {
        padding: 1rem;
    }

    .card-grid {
        grid-template-columns: 1fr;
        padding: 1rem;
    }

    .list-view {
        padding: 1rem;
        overflow-x: auto;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
}

/* Login page */
body.login-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 1rem;
}

.login-container {
    width: 100%;
    max-width: 380px;
    background: rgba(15, 15, 25, 0.6);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 20px;
    padding: 2.5rem;
    text-align: center;
    box-shadow: 
        0 0 80px rgba(191, 90, 242, 0.1),
        0 0 120px rgba(0, 170, 255, 0.05);
}

.login-container h1 {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.login-container p {
    color: var(--text-secondary);
    margin-bottom: 2rem;
}

.login-container .form-group {
    text-align: left;
}

.login-container .btn {
    width: 100%;
    padding: 0.875rem;
    font-size: 1rem;
}

.login-error {
    color: var(--neon-pink);
    font-size: 0.875rem;
    margin-bottom: 1rem;
    display: none;
}

.login-error.show {
    display: block;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* ===================================
   TASKS FEATURE STYLES
   =================================== */

/* Tasks Layout */
/* Tasks View Toggle (horizontal smart views) */
.tasks-view-toggle {
    flex: 1;
    justify-content: flex-start;
}

.tasks-view-toggle .view-btn {
    position: relative;
}

.tasks-view-toggle .tasks-count {
    font-size: 0.65rem;
    color: var(--text-muted);
    background: rgba(255, 255, 255, 0.1);
    padding: 0.1rem 0.4rem;
    border-radius: 8px;
    margin-left: 0.25rem;
}

.tasks-view-toggle .view-btn.active .tasks-count {
    background: rgba(255, 255, 255, 0.15);
    color: var(--text-primary);
}

/* My Lists Dropdown */
.my-lists-dropdown {
    position: relative;
    margin-left: 0.5rem;
}

.my-lists-trigger {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.my-lists-trigger:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--neon-purple);
}

.my-lists-trigger .dropdown-arrow {
    transition: transform 0.2s ease;
}

.my-lists-dropdown:hover .dropdown-arrow {
    transform: rotate(180deg);
}

.my-lists-menu {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.5rem;
    min-width: 200px;
    background: rgba(15, 15, 25, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
    z-index: 100;
}

.my-lists-dropdown:hover .my-lists-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.my-lists-items {
    padding: 0.5rem 0;
    max-height: 250px;
    overflow-y: auto;
}

.my-lists-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 1rem;
    color: var(--text-secondary);
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.15s ease;
}

.my-lists-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.my-lists-item.active {
    background: rgba(191, 90, 242, 0.15);
    color: var(--neon-purple);
}

.my-lists-item .list-icon {
    width: 8px;
    height: 8px;
    border-radius: 2px;
    background: var(--neon-purple);
}

.my-lists-item .list-count {
    margin-left: auto;
    font-size: 0.75rem;
    color: var(--text-muted);
}

.my-lists-add {
    border-top: 1px solid var(--glass-border);
    padding: 0.5rem;
}

.add-list-btn {
    width: 100%;
    padding: 0.5rem 1rem;
    background: transparent;
    border: 1px dashed var(--glass-border);
    border-radius: 6px;
    color: var(--text-muted);
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.add-list-btn:hover {
    border-color: var(--neon-purple);
    color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.1);
}

/* Color Picker */
.color-picker-grid {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.color-swatch {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid transparent;
    background: var(--swatch-color);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 0 8px color-mix(in srgb, var(--swatch-color) 50%, transparent);
}

.color-swatch:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px var(--swatch-color);
}

.color-swatch.active {
    border-color: white;
    box-shadow: 0 0 20px var(--swatch-color), 0 0 30px var(--swatch-color);
}

/* Neon glow for list icons */
.my-lists-item .list-icon {
    width: 10px;
    height: 10px;
    border-radius: 3px;
    box-shadow: 0 0 8px var(--list-color, #bf5af2);
}

/* Pinned lists in view bar */
.pinned-list-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: color-mix(in srgb, var(--list-color, #bf5af2) 25%, transparent);
    border: none;
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: 0 0 10px color-mix(in srgb, var(--list-color, #bf5af2) 30%, transparent);
}

.pinned-list-btn:hover {
    background: color-mix(in srgb, var(--list-color, #bf5af2) 35%, transparent);
    box-shadow: 0 0 15px color-mix(in srgb, var(--list-color, #bf5af2) 40%, transparent);
}

.pinned-list-btn.active {
    background: color-mix(in srgb, var(--list-color, #bf5af2) 40%, transparent);
    box-shadow: 0 0 20px var(--list-color, #bf5af2);
}

.pinned-list-btn .list-icon {
    width: 8px;
    height: 8px;
    border-radius: 2px;
    background: var(--list-color, #bf5af2);
    box-shadow: 0 0 8px var(--list-color, #bf5af2);
}

.pinned-list-btn .list-name {
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Drag and drop styles */
.my-lists-item.dragging {
    opacity: 0.5;
}

.view-toggle.drag-over {
    background: rgba(191, 90, 242, 0.1);
    border-color: var(--neon-purple);
}

.pinned-lists-container {
    display: contents;
}

/* Tasks View Bar */
.tasks-view-bar {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.tasks-view-bar > .btn {
    flex-shrink: 0;
}

.tasks-view-bar > .sort-control {
    margin-left: auto;
}

.tasks-display-toggle {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.03);
    padding: 0.25rem;
    border-radius: 8px;
    border: 1px solid var(--glass-border);
}

.tasks-display-btn {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.75rem;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-secondary);
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tasks-display-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.tasks-display-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
    box-shadow: 0 0 10px rgba(191, 90, 242, 0.2);
}

/* Card Size Control */
.card-size-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 1rem;
    padding-left: 1rem;
    border-left: none;
}

.card-size-label {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.card-size-btn {
    width: 28px;
    height: 28px;
    border: 1px solid var(--glass-border);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.03);
    color: var(--text-secondary);
    font-size: 0.7rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.card-size-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.card-size-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

/* Sort Control */
.sort-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 1rem;
    padding-left: 1rem;
    border-left: none;
}

.sort-label {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.sort-buttons {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.03);
    padding: 0.2rem;
    border-radius: 6px;
    border: 1px solid var(--glass-border);
}

.sort-btn {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.35rem 0.6rem;
    background: transparent;
    border: none;
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 0.7rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
}

.sort-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.sort-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
}

.sort-arrow {
    font-size: 0.65rem;
    opacity: 0.5;
    transition: transform 0.2s ease;
}

.sort-btn.active .sort-arrow {
    opacity: 1;
}

.sort-btn.desc .sort-arrow {
    transform: rotate(180deg);
}

/* Drag and drop styles for custom sorting */
.task-item.dragging,
.task-card.dragging {
    opacity: 0.5;
    transform: scale(1.02);
}

.task-item.drag-over,
.task-card.drag-over {
    border-color: var(--neon-purple);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.3);
}

.tasks-list.custom-sort .task-item,
.tasks-cards.custom-sort .task-card {
    cursor: grab;
}

.tasks-list.custom-sort .task-item:active,
.tasks-cards.custom-sort .task-card:active {
    cursor: grabbing;
}

/* Task Display Containers */
.tasks-display {
    display: none;
}

.tasks-display.active {
    display: flex;
}

/* Tasks Cards View */
.tasks-cards {
    flex-wrap: wrap;
    gap: 1rem;
    overflow-y: auto;
    flex: 1;
}

.tasks-cards.active {
    display: flex;
}

.task-card {
    padding: 1rem;
    background: rgba(15, 15, 25, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* Card Sizes */
.tasks-cards.size-small .task-card {
    width: calc(25% - 0.75rem);
    min-width: 200px;
    padding: 0.75rem;
}

.tasks-cards.size-medium .task-card {
    width: calc(33.333% - 0.67rem);
    min-width: 280px;
    padding: 1rem;
}

.tasks-cards.size-large .task-card {
    width: calc(50% - 0.5rem);
    min-width: 350px;
    padding: 1.25rem;
    gap: 0.75rem;
}

.task-card:hover {
    border-color: var(--neon-purple);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.15);
    transform: translateY(-2px);
}

.task-card.completed {
    opacity: 0.6;
}

/* Date/time above title */
.task-card-datetime {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.75rem;
    color: var(--text-muted);
    margin-bottom: 0.25rem;
}

.task-card-datetime.overdue {
    color: var(--neon-pink);
}

.task-card-datetime.today {
    color: var(--neon-cyan);
}

/* Overdue pulsing glow - escalates by days overdue */
@keyframes overdue-pulse {
    0%, 100% { 
        text-shadow: 0 0 8px var(--overdue-glow-color), 0 0 16px var(--overdue-glow-color);
    }
    50% { 
        text-shadow: 0 0 4px var(--overdue-glow-color), 0 0 8px var(--overdue-glow-color);
    }
}

.task-card-datetime.overdue,
.task-card-due.overdue,
.task-item-due.overdue,
.task-reader-due.overdue,
.task-header-datetime.overdue .task-header-date {
    animation: overdue-pulse 2.5s ease-in-out infinite;
}

/* Yellow glow: 0-2 days overdue */
.task-card-datetime.overdue-yellow,
.task-card-due.overdue-yellow,
.task-item-due.overdue-yellow,
.task-reader-due.overdue-yellow,
.task-header-datetime.overdue-yellow .task-header-date {
    --overdue-glow-color: var(--neon-yellow);
    color: var(--neon-yellow);
}

/* Orange glow: 3-4 days overdue */
.task-card-datetime.overdue-orange,
.task-card-due.overdue-orange,
.task-item-due.overdue-orange,
.task-reader-due.overdue-orange,
.task-header-datetime.overdue-orange .task-header-date {
    --overdue-glow-color: var(--neon-orange);
    color: var(--neon-orange);
}

/* Red glow: 5+ days overdue */
.task-card-datetime.overdue-red,
.task-card-due.overdue-red,
.task-item-due.overdue-red,
.task-reader-due.overdue-red,
.task-header-datetime.overdue-red .task-header-date {
    --overdue-glow-color: var(--neon-pink);
    color: var(--neon-pink);
}

/* Upcoming tasks - subtle pulsing glow */
@keyframes upcoming-pulse {
    0%, 100% { 
        text-shadow: 0 0 6px var(--upcoming-glow-color), 0 0 12px var(--upcoming-glow-color);
    }
    50% { 
        text-shadow: 0 0 3px var(--upcoming-glow-color), 0 0 6px var(--upcoming-glow-color);
    }
}

.task-card-datetime.upcoming,
.task-card-due.upcoming,
.task-item-due.upcoming,
.task-reader-due.upcoming,
.task-header-datetime.upcoming .task-header-date {
    animation: upcoming-pulse 3s ease-in-out infinite;
}

/* Green glow: 1 day away (tomorrow) */
.task-card-datetime.upcoming-green,
.task-card-due.upcoming-green,
.task-item-due.upcoming-green,
.task-reader-due.upcoming-green,
.task-header-datetime.upcoming-green .task-header-date {
    --upcoming-glow-color: var(--neon-green);
    color: var(--neon-green);
}

/* Blue glow: 2-3 days away */
.task-card-datetime.upcoming-blue,
.task-card-due.upcoming-blue,
.task-item-due.upcoming-blue,
.task-reader-due.upcoming-blue,
.task-header-datetime.upcoming-blue .task-header-date {
    --upcoming-glow-color: var(--neon-cyan);
    color: var(--neon-cyan);
}

.task-card-header {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
}

.task-card-checkbox {
    z-index: 10;
    pointer-events: auto;
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    border: 2px solid var(--text-muted);
    border-radius: 50%;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    padding: 0;
}

.task-card-checkbox:hover {
    border-color: var(--neon-purple);
}

.task-card.completed .task-card-checkbox {
    z-index: 10;
    pointer-events: auto;
    border-color: var(--neon-green);
    background: var(--neon-green);
}

.task-card-checkbox svg {
    color: transparent;
}

.task-card.completed .task-card-checkbox svg {
    color: #0a0a0f;
}

.task-card-title {
    flex: 1;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
}

.task-card.completed .task-card-title {
    text-decoration: line-through;
    color: var(--text-muted);
}

.task-card-star {
    flex-shrink: 0;
    background: transparent;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0;
    transition: all 0.2s;
}

.task-card-star:hover {
    color: var(--neon-yellow);
}

.task-card-star.active {
    color: var(--neon-yellow);
}

.task-card-meta {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    font-size: 0.8rem;
}

.task-card-due {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    color: var(--text-muted);
}

.task-card-due.today {
    color: var(--neon-cyan);
}

.task-card-recurring {
    color: var(--text-muted);
}

.task-card-description {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.5;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border-left: 2px solid var(--neon-purple);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.task-card-subtasks {
    font-size: 0.8rem;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 0.3rem;
}

/* Small cards - minimal info */
.tasks-cards.size-small .task-card-description,
.tasks-cards.size-small .task-card-subtasks-list,
.tasks-cards.size-small .task-card-notes {
    display: none;
}

.tasks-cards.size-small .task-card-title {
    font-size: 0.85rem;
    -webkit-line-clamp: 1;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.tasks-cards.size-small .task-card-meta {
    font-size: 0.7rem;
}

/* Medium cards - description preview */
.tasks-cards.size-medium .task-card-description {
    -webkit-line-clamp: 2;
}

.tasks-cards.size-medium .task-card-subtasks-list {
    display: none;
}

/* Large cards - full preview with subtasks */
.tasks-cards.size-large .task-card-description {
    -webkit-line-clamp: 4;
}

.tasks-cards.size-large .task-card-title {
    font-size: 1.1rem;
}

/* Subtasks list in large cards */
.task-card-subtasks-list {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--glass-border);
}

.task-card-subtask {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
    padding: 0.35rem 0.5rem;
    margin: -0.35rem -0.5rem;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.task-card-subtask:hover {
    background: rgba(255, 255, 255, 0.05);
}

.task-card-subtask:hover .task-card-subtask-check {
    border-color: var(--neon-purple);
}

.task-card-subtask.completed {
    color: var(--text-muted);
    text-decoration: line-through;
}

.task-card-subtask-check {
    width: 14px;
    height: 14px;
    border: 1.5px solid var(--text-muted);
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.task-card-subtask.completed .task-card-subtask-check {
    border-color: var(--neon-green);
    background: var(--neon-green);
}

.task-card-subtask.completed .task-card-subtask-check svg {
    color: #0a0a0f;
}

/* Notes preview in large cards */
.task-card-notes {
    font-size: 0.75rem;
    color: var(--text-muted);
    font-style: italic;
    padding-top: 0.5rem;
    border-top: 1px solid var(--glass-border);
}

/* Neon separator between smart views and pinned lists */
.pinned-separator {
    width: 2px;
    height: 24px;
    background: linear-gradient(180deg, var(--neon-purple), var(--neon-cyan));
    border-radius: 1px;
    margin: 0 0.5rem;
    box-shadow: 0 0 8px var(--neon-purple), 0 0 15px var(--neon-cyan);
    align-self: center;
}

.my-lists-empty {
    padding: 1rem;
    text-align: center;
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* Tasks Content Area */
.tasks-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 1.5rem 2rem;
    overflow: hidden;
}

.tasks-add-bar {
    margin-bottom: 1.5rem;
}

.tasks-add-bar input {
    width: 100%;
    padding: 1rem 1.25rem;
    background: rgba(15, 15, 25, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    color: var(--text-primary);
    font-size: 0.95rem;
    transition: all 0.2s;
}

.tasks-add-bar input:focus {
    outline: none;
    border-color: var(--neon-purple);
    box-shadow: 0 0 0 3px rgba(191, 90, 242, 0.1);
}

.tasks-add-bar input::placeholder {
    color: var(--text-muted);
}

/* Tasks List */
.tasks-list {
    flex: 1;
    overflow-y: auto;
    flex-direction: column;
    gap: 0.5rem;
}

.tasks-list.active {
    display: flex;
}

.task-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: rgba(15, 15, 25, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
}

.task-item:hover {
    background: rgba(15, 15, 25, 0.6);
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
}

/* Today tasks - glowing border (matches Review modal accent) */
.task-item.due-today {
    border-color: var(--neon-purple);
    box-shadow: 0 0 12px rgba(191, 90, 242, 0.3), inset 0 0 0 1px rgba(191, 90, 242, 0.1);
}

.task-item.due-today:hover {
    border-color: var(--neon-purple);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.4), inset 0 0 0 1px rgba(191, 90, 242, 0.15);
}

.task-item.due-today .task-item-due {
    color: var(--neon-purple);
}

/* Section separator (My Day recurring tasks) */
.task-section-separator {
    height: 1px;
    margin: 1rem 0;
    background: var(--neon-purple);
    box-shadow: 0 0 8px var(--neon-purple), 0 0 16px var(--neon-purple);
    border-radius: 1px;
}

.task-item-checkbox {
    z-index: 10;
    pointer-events: auto;
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    min-width: 22px;
    min-height: 22px;
    border: 2px solid var(--text-muted);
    border-radius: 50%;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    padding: 0;
    position: relative;
    z-index: 10;
    pointer-events: auto;
}

.task-item-checkbox:hover {
    border-color: var(--neon-purple);
}

.task-item.completed .task-item-checkbox {
    z-index: 10;
    pointer-events: auto;
    border-color: var(--neon-green);
    background: var(--neon-green);
}

.task-item-checkbox svg {
    color: transparent;
}

.task-item.completed .task-item-checkbox svg {
    color: #0a0a0f;
}

.task-item-content {
    flex: 1;
    min-width: 0;
}

.task-item-title {
    font-size: 0.95rem;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.task-item.completed .task-item-title {
    text-decoration: line-through;
    color: var(--text-muted);
}

.task-item-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.75rem;
    color: var(--text-muted);
}

.task-item-due {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.8rem;
    font-weight: 500;
    white-space: nowrap;
    flex-shrink: 0;
}

.task-item-due.today {
    color: var(--neon-purple);
}

.task-item-star {
    flex-shrink: 0;
    background: transparent;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0;
    transition: all 0.2s;
    position: relative;
    z-index: 10;
    pointer-events: auto;
}

.task-item-star:hover {
    color: var(--neon-yellow);
}

.task-item-star.active {
    color: var(--neon-yellow);
}

/* Task Item Modal Styles */
.modal-task {
    max-width: 640px;
    width: 90vw;
    display: flex;
    flex-direction: column;
}

.modal-task .modal-body {
    overflow-y: auto;
    flex: 1;
    min-height: 0;
}

.task-complete-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.task-complete-btn svg {
    stroke: var(--glass-border);
    transition: all 0.2s;
}

.task-complete-btn:hover svg {
    stroke: var(--neon-green);
}

.task-complete-btn.completed svg {
    stroke: var(--neon-green);
    fill: var(--neon-green);
}

.task-important-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    cursor: pointer;
    padding: 0;
}

.task-important-btn svg {
    stroke: var(--text-muted);
    fill: transparent;
    transition: all 0.2s;
}

.task-important-btn:hover svg {
    stroke: #fbbf24;
}

.task-important-btn.active svg {
    stroke: #fbbf24;
    fill: #fbbf24;
}

.modal-task .modal-title-input {
    flex: 1;
    min-width: 0;
    font-size: 1.25rem;
    font-weight: 600;
    background: transparent;
    border: none;
    color: var(--text-primary);
    padding: 0.5rem 0;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
}

.modal-task .modal-title-input:focus {
    outline: none;
}

.modal-task .task-reader-title {
    flex: 1;
    min-width: 0;
    white-space: normal;
    overflow: visible;
    text-overflow: unset;
    margin-right: 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
    -webkit-text-fill-color: rgba(255, 255, 255, 0.9);
    background: none;
}

.task-item-section {
    margin-bottom: 1.25rem;
}

.task-item-section-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.75rem;
}

.task-item-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
}

.task-item-row svg {
    flex-shrink: 0;
    stroke: var(--text-muted);
}

.task-item-input,
.task-item-select {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 0.9rem;
}

.task-item-input:focus,
.task-item-select:focus {
    outline: none;
}

.task-item-label {
    color: var(--text-muted);
    font-size: 0.85rem;
}

.task-item-notes {
    width: 100%;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.9rem;
    padding: 0.75rem 1rem;
    resize: vertical;
    font-family: inherit;
}

.task-item-notes:focus {
    outline: none;
    border-color: var(--neon-purple);
}

/* Subtasks */
.subtasks-list {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-bottom: 0.5rem;
}

.subtask-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

.subtask-checkbox {
    width: 18px;
    height: 18px;
    border: 2px solid var(--glass-border);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.subtask-checkbox.completed {
    background: var(--neon-green);
    border-color: var(--neon-green);
}

.subtask-checkbox.completed::after {
    content: 'âœ“';
    color: var(--bg-dark);
    font-size: 10px;
}

.subtask-title {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.subtask-item.completed .subtask-title {
    text-decoration: line-through;
    color: var(--text-muted);
}

.subtask-check {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.subtask-check svg {
    color: var(--glass-border);
    transition: color 0.2s;
}

.subtask-item.completed .subtask-check svg {
    color: var(--neon-green, #00ff88);
}

.subtask-delete {
    opacity: 0;
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0.25rem;
    font-size: 1.2rem;
    line-height: 1;
    transition: opacity 0.2s, color 0.2s;
}

.subtask-delete:hover {
    color: var(--neon-red, #ff4757);
}

.subtask-item:hover .subtask-delete {
    opacity: 1;
}

.subtask-add input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    background: transparent;
    border: 1px dashed var(--glass-border);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 0.85rem;
}

.subtask-add input:focus {
    outline: none;
    border-color: var(--neon-purple);
    border-style: solid;
}

.task-meta-text {
    font-size: 0.75rem;
    color: var(--text-muted);
}

/* Task DateTime Row */
.task-datetime-row {
    display: flex;
    gap: 1rem;
}

.task-datetime-field {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    cursor: pointer;
    transition: border-color 0.2s;
}

.task-datetime-field:hover {
    border-color: var(--neon-purple);
}

.task-datetime-field svg {
    color: var(--text-muted);
    flex-shrink: 0;
}

.task-datetime-field input {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}

.task-datetime-field span {
    flex: 1;
    font-size: 0.9rem;
    color: var(--text-muted);
    pointer-events: none;
    user-select: none;
}

.task-datetime-field span.has-value {
    color: var(--text-primary);
}

/* DateTime Field Wrapper - contains clear button + field */
.task-datetime-field-wrapper {
    position: relative;
    flex: 1;
    display: flex;
    align-items: center;
}

.task-datetime-field-wrapper .task-datetime-field {
    flex: 1;
}

/* Clear Button for date/time fields */
.field-clear-btn {
    position: absolute;
    left: 4px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
    width: 18px;
    height: 18px;
    padding: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 4px;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.15s ease;
}

.field-clear-btn:hover {
    background: rgba(239, 68, 68, 0.3);
    color: #ef4444;
}

.task-datetime-field-wrapper:hover .field-clear-btn.visible {
    display: flex;
}

.task-datetime-field-wrapper:hover .task-datetime-field {
    padding-left: 1.75rem;
}

/* Task Recurring Presets */
.task-recurring-presets {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.task-recurring-preset {
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
}

.task-recurring-preset:hover {
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

.task-recurring-preset.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    border-color: var(--neon-purple);
    box-shadow: 0 0 10px rgba(191, 90, 242, 0.2);
    color: var(--text-primary);
}

/* Days of Week Selector */
.task-days-of-week {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
}

.task-day-btn {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 50%;
    color: var(--text-secondary);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.task-day-btn:hover {
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

.task-day-btn.active {
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    border-color: transparent;
    color: white;
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.4);
}

/* Task Calendars Selection */
.task-calendars-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.task-calendar-chip {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.task-calendar-chip:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.2);
}

.task-calendar-chip.selected {
    background: rgba(0, 170, 255, 0.15);
    border-color: rgba(0, 170, 255, 0.3);
    color: var(--text-primary);
}

.task-calendar-chip .calendar-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
}

.task-calendar-chip:not(.selected) .calendar-dot {
    opacity: 0.5;
}

/* Markdown Dropdown */
.md-dropdown {
    position: relative;
    display: inline-block;
}

.md-dropdown-trigger {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    padding: 0.25rem 0.5rem;
    cursor: pointer;
    font-size: 0.9rem;
    border-radius: 4px;
    transition: all 0.2s;
}

.md-dropdown-trigger:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.md-dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: rgba(20, 20, 30, 0.95);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 0.25rem;
    z-index: 100;
    min-width: 50px;
    backdrop-filter: blur(10px);
}

.md-dropdown:hover .md-dropdown-menu {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
}

.md-dropdown-menu button {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    font-size: 0.85rem;
    border-radius: 4px;
    text-align: left;
    transition: all 0.2s;
}

.md-dropdown-menu button:hover {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
}

/* Task Reader View */
.task-reader-title {
    font-size: 1.125rem;
    font-weight: 600;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0;
}

.task-reader-meta {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

/* DateTime in modal header (above title) */
.task-header-datetime {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.15), rgba(0, 170, 255, 0.1));
    border-radius: 8px;
    font-size: 0.85rem;
}

.task-header-date {
    color: var(--neon-cyan);
    font-weight: 500;
}

.task-header-datetime.today .task-header-date {
    color: var(--neon-green);
}

.task-header-time {
    color: var(--text-secondary);
}

.task-header-recurring {
    color: var(--text-muted);
}

.task-reader-due,
.task-reader-recurring {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.task-reader-due.today {
    color: var(--neon-cyan);
}

.task-reader-section {
    margin-top: 1.5rem;
}

.task-reader-section h4 {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin: 0 0 0.75rem 0;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Description field container */
#task-reader-description {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    min-height: 60px;
}

#task-reader-description:empty::after {
    content: 'No description';
    color: var(--text-muted);
    font-style: italic;
}

/* Subtasks in reader view - styled like criteria */
.task-reader-subtasks-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
    padding: 0;
    margin: 0;
}

.task-reader-subtask {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 0.875rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    font-size: 0.875rem;
    color: var(--text-primary);
    transition: all 0.2s;
    cursor: pointer;
}

.task-reader-subtask:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--neon-purple);
}

.task-reader-subtask .subtask-checkbox {
    width: 18px;
    height: 18px;
    border: 2px solid var(--glass-border);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.task-reader-subtask.completed .subtask-checkbox {
    background: var(--neon-green, #00ff88);
    border-color: var(--neon-green, #00ff88);
}

.task-reader-subtask.completed .subtask-checkbox::after {
    content: 'âœ“';
    color: var(--bg-dark);
    font-size: 11px;
    font-weight: bold;
}

.task-reader-subtask.completed .subtask-text {
    text-decoration: line-through;
    color: var(--text-muted);
}

/* ========================================
   TASK MODAL REDESIGN - New Styles
   ======================================== */

/* Task modal header override - stack title and date strip vertically */
.task-modal-header-redesign {
    flex-direction: column;
    align-items: stretch;
}

.task-modal-header-redesign .modal-title-row {
    width: 100%;
}

.task-modal-header-redesign .task-reader-title {
    white-space: normal;
    overflow: visible;
    text-overflow: unset;
    -webkit-text-fill-color: rgba(255, 255, 255, 0.9);
    background: none;
    flex: 1;
    min-width: 0;
}

/* Date strip below title */
.task-date-strip {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1.5rem 0;
    flex-wrap: wrap;
}

.task-date-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
    background: rgba(255, 255, 255, 0.06);
    padding: 0.25rem 0.6rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Color classes for date badges - reuse existing getDueClass logic */
.task-date-strip.overdue .task-date-badge:first-child {
    color: #ff6b6b;
    background: rgba(255, 107, 107, 0.12);
    border-color: rgba(255, 107, 107, 0.25);
}

.task-date-strip.today .task-date-badge:first-child {
    color: var(--neon-cyan, #00f5d4);
    background: rgba(0, 245, 212, 0.12);
    border-color: rgba(0, 245, 212, 0.25);
}

.task-date-strip.upcoming .task-date-badge:first-child {
    color: #69db7c;
    background: rgba(105, 219, 124, 0.12);
    border-color: rgba(105, 219, 124, 0.25);
}

/* Reader view body */
.task-reader-body {
    padding: 0.75rem 1.5rem 1.5rem;
}

/* List badge in reader view */
.task-reader-list-section {
    margin-bottom: 0.75rem;
}

.task-list-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.25rem 0.75rem;
    background: rgba(191, 90, 242, 0.12);
    border: 1px solid rgba(191, 90, 242, 0.25);
    border-radius: 6px;
    font-size: 0.8rem;
    color: #bf5af2;
}

.task-list-badge .list-color-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* Relations section in reader view */
.task-reader-relations {
    margin-bottom: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.task-relation-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    min-height: 28px;
}

.task-relation-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.45);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 60px;
    flex-shrink: 0;
}

.task-relation-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
    flex: 1;
}

/* Relation pills in task modal (reuse base styling) */
.task-relation-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    padding: 0.2rem 0.6rem;
    background: rgba(0, 170, 255, 0.15);
    border: 1px solid rgba(0, 170, 255, 0.3);
    border-radius: 4px;
    font-size: 0.75rem;
    color: var(--text-primary, rgba(255, 255, 255, 0.9));
    white-space: nowrap;
    cursor: default;
    transition: all 0.2s ease;
}

.task-relation-pill:hover {
    background: rgba(0, 170, 255, 0.25);
    border-color: var(--neon-cyan, #00f5d4);
}

/* Removable pills (edit mode) */
.task-relation-pill .pill-remove {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.5);
    font-size: 10px;
    line-height: 1;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: 0.2rem;
}

.task-relation-pill .pill-remove:hover {
    background: rgba(255, 42, 109, 0.3);
    color: #ff2a6d;
}

/* More details expandable section */
.task-more-details {
    margin-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    padding-top: 0.5rem;
}

.task-more-details-toggle {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.4);
    font-size: 0.8rem;
    cursor: pointer;
    padding: 0.4rem 0;
    transition: color 0.2s ease;
}

.task-more-details-toggle:hover {
    color: rgba(255, 255, 255, 0.7);
}

.task-more-details-toggle .toggle-chevron {
    transition: transform 0.2s ease;
}

.task-more-details-toggle.expanded .toggle-chevron {
    transform: rotate(90deg);
}

.task-more-details-content {
    padding: 0.75rem 0 0.25rem;
}

.task-metadata-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem 1.5rem;
}

.task-metadata-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.task-metadata-label {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.4);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.task-metadata-value {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
    padding: 0.2rem 0.5rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    display: inline-block;
    width: fit-content;
}

/* Priority colors */
.task-metadata-value.priority-high {
    color: #ff6b6b;
    background: rgba(255, 107, 107, 0.12);
}

.task-metadata-value.priority-medium {
    color: #ffd700;
    background: rgba(255, 215, 0, 0.12);
}

.task-metadata-value.priority-low {
    color: #69db7c;
    background: rgba(105, 219, 124, 0.12);
}

/* Energy colors */
.task-metadata-value.energy-high {
    color: #ffa94d;
    background: rgba(255, 169, 77, 0.12);
}

.task-metadata-value.energy-low {
    color: #74c0fc;
    background: rgba(116, 192, 252, 0.12);
}

/* Edit view - Relations */
.task-edit-relation {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    min-height: 36px;
}

.task-edit-relation-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
    flex: 1;
}

.task-relation-add-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    border: 1px dashed rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.03);
    color: rgba(255, 255, 255, 0.4);
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.task-relation-add-btn:hover {
    border-color: var(--neon-cyan, #00f5d4);
    color: var(--neon-cyan, #00f5d4);
    background: rgba(0, 245, 212, 0.08);
}

/* Inline relation search dropdown */
.task-relation-dropdown {
    position: absolute;
    z-index: 1100;
    width: 280px;
    max-height: 300px;
    background: rgba(20, 20, 35, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 8px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(20px);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.task-relation-dropdown-search {
    padding: 0.6rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.task-relation-dropdown-search input {
    width: 100%;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.85rem;
    outline: none;
    transition: border-color 0.2s ease;
}

.task-relation-dropdown-search input:focus {
    border-color: var(--neon-cyan, #00f5d4);
}

.task-relation-dropdown-search input::placeholder {
    color: rgba(255, 255, 255, 0.3);
}

.task-relation-dropdown-list {
    overflow-y: auto;
    max-height: 230px;
    padding: 0.3rem;
}

.task-relation-dropdown-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.6rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
    transition: background 0.15s ease;
}

.task-relation-dropdown-item:hover {
    background: rgba(255, 255, 255, 0.08);
}

.task-relation-dropdown-item.selected {
    background: rgba(0, 170, 255, 0.15);
    color: var(--neon-cyan, #00f5d4);
}

.task-relation-dropdown-item .dropdown-check {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    border: 1px solid rgba(255, 255, 255, 0.25);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    flex-shrink: 0;
    transition: all 0.15s ease;
}

.task-relation-dropdown-item.selected .dropdown-check {
    background: var(--neon-cyan, #00f5d4);
    border-color: var(--neon-cyan, #00f5d4);
    color: #000;
}

.task-relation-dropdown-empty {
    text-align: center;
    padding: 1.5rem 0.75rem;
    color: rgba(255, 255, 255, 0.35);
    font-size: 0.85rem;
}

/* Edit view - List selector */
.task-list-selector-wrapper {
    position: relative;
}

.task-list-selector {
    width: 100%;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 0.6rem 0.75rem;
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.85rem;
    outline: none;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='rgba(255,255,255,0.4)' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    transition: border-color 0.2s ease;
}

.task-list-selector:hover {
    border-color: rgba(255, 255, 255, 0.2);
}

.task-list-selector:focus {
    border-color: var(--neon-cyan, #00f5d4);
}

.task-list-selector option {
    background: #1a1a2e;
    color: rgba(255, 255, 255, 0.9);
}

/* Edit view - Metadata presets */
.task-metadata-presets {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

.task-metadata-preset {
    padding: 0.35rem 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.04);
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.task-metadata-preset:hover {
    border-color: rgba(255, 255, 255, 0.25);
    color: rgba(255, 255, 255, 0.8);
    background: rgba(255, 255, 255, 0.08);
}

.task-metadata-preset.active {
    border-color: var(--neon-cyan, #00f5d4);
    color: var(--neon-cyan, #00f5d4);
    background: rgba(0, 245, 212, 0.1);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .modal-task {
        max-width: 100% !important;
        width: 100% !important;
        margin: 0;
        border-radius: 0;
        height: 100vh;
        max-height: 100vh;
    }

    .task-metadata-grid {
        grid-template-columns: 1fr;
    }

    .task-relation-dropdown {
        width: calc(100vw - 3rem);
    }
}

/* ============================================
   BASES FEATURE - Notion/Airtable-style databases
   ============================================ */

/* Bases Layout with Sidebar */

/* Fix bases tab to fill viewport */
.tab-content[data-tab="bases"] {
    height: calc(100vh - 60px);
    overflow: hidden;
}

/* Ensure sidebar new base button has proper styling when at top */
.bases-sidebar > 
/* Sidebar Add Group Button - matches main + New Base style */
.sidebar-add-group-btn {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.75rem !important;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue)) !important;
    border: none !important;
    border-radius: 8px !important;
    white-space: nowrap;
}

.sidebar-add-group-btn:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.3);
}

/* Toggle groups button with Obsidian-style icon */
.toggle-groups-btn {
    display: flex;
    align-items: center;
    justify-content: center;
}

.toggle-groups-btn .toggle-icon {
    transition: transform 0.2s ease;
}

.toggle-groups-btn.collapsed .toggle-icon {
    transform: rotate(180deg);
}

/* Sidebar header layout adjustments */
.sidebar-header {
    flex-wrap: wrap;
    gap: 0.5rem;
}

.sidebar-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.bases-sidebar > .sidebar-new-base-btn {
    margin: 0.75rem;
    width: calc(100% - 1.5rem);
    flex-shrink: 0;
    box-sizing: border-box;
}

.bases-layout {
    display: flex;
    height: 100%;
    overflow: hidden;
}

/* Sidebar */
.bases-sidebar {
    width: 240px;
    min-width: 240px;
    background: rgba(15, 15, 25, 0.6);
    border-right: 1px solid var(--glass-border);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid var(--glass-border);
    flex-shrink: 0;
}

.sidebar-title {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text-primary);
}

.sidebar-actions {
    display: flex;
    gap: 0.25rem;
}

.sidebar-btn {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid transparent;
    border-radius: 6px;
    color: var(--text-secondary);
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--glass-border);
    color: var(--text-primary);
}

.sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 0.5rem 0;
}

.sidebar-footer {
    padding: 0.75rem;
    border-top: 1px solid var(--glass-border);
    flex-shrink: 0;
}


/* Sidebar Add Group Button - matches main + New Base style */
.sidebar-add-group-btn {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.75rem !important;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue)) !important;
    border: none !important;
    border-radius: 8px !important;
    white-space: nowrap;
}

.sidebar-add-group-btn:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.3);
}

/* Toggle groups button with Obsidian-style icon */
.toggle-groups-btn {
    display: flex;
    align-items: center;
    justify-content: center;
}

.toggle-groups-btn .toggle-icon {
    transition: transform 0.2s ease;
}

.toggle-groups-btn.collapsed .toggle-icon {
    transform: rotate(180deg);
}

/* Sidebar header layout adjustments */
.sidebar-header {
    flex-wrap: wrap;
    gap: 0.5rem;
}

.sidebar-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.sidebar-new-base-btn {
    width: auto;
    margin: 0.75rem;
    padding: 0.6rem 1rem;
    box-sizing: border-box;
    max-width: calc(100% - 1.5rem);
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue));
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-new-base-btn:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 15px rgba(255, 42, 109, 0.3);
}

/* Sidebar Groups */
.sidebar-group {
    margin-bottom: 0.25rem;
}

.sidebar-group-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem 0.5rem 0.5rem;
    cursor: pointer;
    transition: var(--transition);
    border-radius: 0;
}

.sidebar-group-header:hover {
    background: rgba(255, 255, 255, 0.05);
}

.sidebar-group-toggle {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    color: var(--text-muted);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-group.collapsed .sidebar-group-toggle {
    transform: rotate(-90deg);
}

.sidebar-group-icon {
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ===================== */
/* GRADIENT FOLDER ICONS */
/* ===================== */

.folder-icon {
    width: 18px;
    height: 18px;
    display: inline-block;
    background: linear-gradient(135deg, var(--neon-pink) 0%, var(--neon-purple) 50%, var(--neon-blue) 100%);
    -webkit-mask-size: contain;
    mask-size: contain;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
    transition: all 0.2s ease;
}

/* Closed folder - standard folder shape */
.folder-icon-closed {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M10 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-8l-2-2z'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M10 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-8l-2-2z'/%3E%3C/svg%3E");
}

/* Open folder - folder with open top */
.folder-icon-open {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M20 6h-8l-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 12H4V8h16v10z'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M20 6h-8l-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 12H4V8h16v10z'/%3E%3C/svg%3E");
}

/* Hover effect - brighten the gradient */
.sidebar-group-header:hover .folder-icon {
    filter: brightness(1.2);
}

.sidebar-group-name {
    flex: 1;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.sidebar-group-count {
    font-size: 0.7rem;
    color: var(--text-muted);
    padding: 0.1rem 0.4rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.sidebar-group-actions {
    display: none;
    gap: 0.25rem;
}

.sidebar-group-header:hover .sidebar-group-actions {
    display: flex;
}

.sidebar-group-header:hover .sidebar-group-count {
    display: none;
}

.sidebar-group-action {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 4px;
    color: var(--text-muted);
    font-size: 0.65rem;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-group-action:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.sidebar-group-action.delete:hover {
    color: var(--neon-pink);
}

.sidebar-group-items {
    overflow: hidden;
    transition: max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-group.collapsed .sidebar-group-items {
    max-height: 0 !important;
}

/* Sidebar Base Item */
.sidebar-base-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.75rem 0.4rem 2rem;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-base-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.sidebar-base-item.active {
    background: rgba(191, 90, 242, 0.15);
    border-right: 2px solid var(--neon-purple);
}

.sidebar-base-icon {
    font-size: 0.85rem;
    width: 20px;
    text-align: center;
}

.sidebar-base-name {
    flex: 1;
    font-size: 0.8rem;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.sidebar-base-item:hover .sidebar-base-name,
.sidebar-base-item.active .sidebar-base-name {
    color: var(--text-primary);
}

/* Sidebar Base Drag Handle */
.sidebar-base-drag-handle {
    width: 14px;
    font-size: 0.65rem;
    color: var(--text-muted);
    opacity: 0;
    cursor: grab;
    transition: opacity 0.15s ease;
    margin-left: -8px;
    margin-right: -2px;
}

.sidebar-base-item:hover .sidebar-base-drag-handle {
    opacity: 0.6;
}

.sidebar-base-item:hover .sidebar-base-drag-handle:hover {
    opacity: 1;
}

/* Drag and Drop States */
.sidebar-base-item.dragging {
    opacity: 0.4;
    background: rgba(191, 90, 242, 0.1);
}

.sidebar-base-item[draggable="true"] {
    cursor: default;
}

.sidebar-group.drag-over,
.sidebar-ungrouped.drag-over {
    background: rgba(191, 90, 242, 0.1);
    outline: 2px dashed var(--neon-purple);
    outline-offset: -2px;
}

.sidebar-group.drag-over .sidebar-group-header {
    background: rgba(191, 90, 242, 0.15);
}

/* ===== GROUP DRAG & DROP REORDERING ===== */

/* Group drag handle */
.sidebar-group-drag-handle {
    width: 14px;
    font-size: 0.6rem;
    color: var(--text-muted);
    opacity: 0;
    cursor: grab;
    transition: opacity 0.15s ease;
    margin-right: 0.25rem;
    flex-shrink: 0;
    user-select: none;
}

.sidebar-group-header:hover .sidebar-group-drag-handle {
    opacity: 0.5;
}

.sidebar-group-header:hover .sidebar-group-drag-handle:hover {
    opacity: 1;
    color: var(--text-secondary);
}

/* Group being dragged */
.sidebar-group.group-dragging {
    opacity: 0.7;
    background: rgba(191, 90, 242, 0.2);
    transform: scale(0.98);
    box-shadow: 0 4px 20px rgba(191, 90, 242, 0.3);
    z-index: 100;
    position: relative;
    pointer-events: none;
}

.sidebar-group.group-dragging .sidebar-group-header {
    background: rgba(191, 90, 242, 0.25);
    border: 1px dashed var(--neon-purple);
    border-radius: 8px;
}

/* Placeholder shown where group will be dropped */
.sidebar-group-placeholder {
    background: rgba(191, 90, 242, 0.1);
    border: 2px dashed var(--neon-purple);
    border-radius: 8px;
    margin-bottom: 0.5rem;
    transition: height 0.2s ease;
    box-shadow: inset 0 0 20px rgba(191, 90, 242, 0.1);
}

/* Smooth movement when groups reorder */
.sidebar-group {
    position: relative;
    transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1), 
                margin 0.2s cubic-bezier(0.2, 0, 0, 1);
}

/* Drop target highlight when hovering during group drag */
.sidebar-group.group-drag-over:not(.group-dragging) .sidebar-group-header {
    background: rgba(0, 170, 255, 0.1);
}

/* Ungrouped Section */
.sidebar-ungrouped {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--glass-border);
}

.sidebar-ungrouped-label {
    padding: 0.4rem 0.75rem;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
}

/* Main Content Area */
.bases-main-content {
    flex: 1;
    overflow: auto;
    display: flex;
    flex-direction: column;
}

/* Bases List View */
.bases-list-view {
    padding: 0;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.bases-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.25rem;
    padding: 1.5rem;
    flex: 1;
    overflow-y: auto;
}

.bases-empty {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    color: var(--text-muted);
}

.bases-empty-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

/* Base Card */
.base-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background: rgba(20, 20, 35, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
}

.base-card:hover {
    transform: translateY(-2px);
    border-color: var(--neon-purple);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(191, 90, 242, 0.15);
}

.base-card-icon {
    font-size: 2rem;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(191, 90, 242, 0.15);
    border-radius: 10px;
    flex-shrink: 0;
}

.base-card-content {
    flex: 1;
    min-width: 0;
}

.base-card-name {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.base-card-meta {
    font-size: 0.8rem;
    color: var(--text-muted);
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.base-card-delete {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 1.25rem;
    cursor: pointer;
    opacity: 0;
    transition: var(--transition);
    border-radius: 4px;
}

.base-card:hover .base-card-delete {
    opacity: 1;
}

.base-card-delete:hover {
    background: rgba(255, 42, 109, 0.2);
    color: var(--neon-pink);
}

/* Base Table View */
.base-table-view {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 60px);
}

.base-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--glass-border);
    background: rgba(10, 10, 15, 0.5);
}

.base-name-display {
    font-size: 1.25rem;
    font-weight: 600;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* README Button */
.btn-readme {
    margin-left: 0.5rem;
    opacity: 0.7;
    transition: var(--transition);
}

.btn-readme:hover {
    opacity: 1;
    color: var(--neon-cyan);
}

/* README Modal */
.modal-large {
    max-width: 800px;
}

.readme-modal-content {
    max-height: 85vh;
    display: flex;
    flex-direction: column;
}

.readme-modal-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1.5rem 2rem;
    border-bottom: 1px solid var(--glass-border);
}

.readme-modal-icon {
    font-size: 1.5rem;
}

.readme-modal-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.readme-modal-body {
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem 2rem;
    line-height: 1.7;
    color: var(--text-muted);
}

.readme-modal-body h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 2rem 0 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--glass-border);
}

.readme-modal-body h2:first-child {
    margin-top: 0;
}

.readme-modal-body h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 1.5rem 0 0.75rem;
}

.readme-modal-body h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--neon-cyan);
    margin: 1.25rem 0 0.5rem;
}

.readme-modal-body p {
    margin: 0.75rem 0;
}

.readme-modal-body ul {
    margin: 0.75rem 0;
    padding-left: 1.5rem;
}

.readme-modal-body li {
    margin: 0.5rem 0;
}

.readme-modal-body strong {
    color: var(--text-primary);
}

.readme-modal-body code {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-family: 'Fira Code', monospace;
    font-size: 0.9em;
}

/* Table Container */
.base-table-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    padding: 1rem;
    padding-top: 0;
}

.table-wrapper {
    flex: 1;
    overflow: auto;
    min-width: 0;
}

.table-wrapper .base-table {
    min-width: max-content;
}

/* Base Table */
.base-table {
    border-collapse: separate;
    border-spacing: 0;
    width: 100%;
    font-size: 0.875rem;
}

/* Table Header */
.base-th {
    position: sticky;
    top: 0;
    background: rgba(20, 20, 35, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    padding: 0;
    text-align: left;
    font-weight: 500;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--glass-border);
    z-index: 10;
    position: relative;
}

.base-th-content {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: var(--transition);
}

.base-th-content:hover {
    background: rgba(255, 255, 255, 0.05);
}

.prop-type-icon {
    font-size: 0.85rem;
    opacity: 0.6;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, monospace;
}

.prop-name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.prop-menu-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 0.25rem;
    font-size: 0.75rem;
    opacity: 0;
    transition: var(--transition);
}

.base-th:hover .prop-menu-btn {
    opacity: 1;
}

.prop-menu-btn:hover {
    color: var(--text-primary);
}

/* Column Resizer */
.prop-resizer {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    cursor: col-resize;
    background: transparent;
    transition: background 0.2s;
}

.prop-resizer:hover,
.prop-resizer.resizing {
    background: var(--neon-purple);
}

/* Add Column Header */
.base-th.add-column {
    width: 50px;
    min-width: 50px;
    background: rgba(20, 20, 35, 0.95);
}

.add-column-btn {
    width: 100%;
    height: 100%;
    padding: 0.75rem;
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 1.25rem;
    cursor: pointer;
    transition: var(--transition);
}

.add-column-btn:hover {
    color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.1);
}

/* Table Cells */
.base-row {
    transition: background 0.2s;
}

.base-row:hover {
    background: rgba(255, 255, 255, 0.02);
}

.base-cell {
    padding: 0.625rem 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    min-height: 44px;
    vertical-align: middle;
    cursor: text;
    transition: background 0.2s;
}

.base-cell:hover {
    background: rgba(255, 255, 255, 0.03);
}

.base-cell.editing {
    padding: 0.25rem;
    background: rgba(191, 90, 242, 0.1);
}

.base-cell.row-actions {
    width: 50px;
    text-align: center;
    cursor: default;
}

.row-delete-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 1.25rem;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    opacity: 0;
    transition: var(--transition);
}

.base-row:hover .row-delete-btn {
    opacity: 1;
}

.row-delete-btn:hover {
    color: var(--neon-pink);
}

/* Cell Placeholder */
.cell-placeholder {
    color: var(--text-muted);
    opacity: 0.5;
}

/* Cell Editor */
.cell-editor {
    width: 100%;
    padding: 0.5rem 0.75rem;
    background: rgba(15, 15, 25, 0.9);
    border: 1px solid var(--neon-purple);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 0.875rem;
    outline: none;
    box-shadow: 0 0 12px rgba(191, 90, 242, 0.3);
}

.cell-editor:focus {
    border-color: var(--neon-cyan);
    box-shadow: 0 0 12px rgba(0, 245, 212, 0.3);
}

/* Cell Checkbox */
.cell-checkbox {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.cell-checkbox input {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--neon-green);
}

.cell-checkbox span {
    display: none;
}

/* Cell Tags (Select/Multi-select) */
.cell-tag {
    display: inline-block;
    padding: 0.2rem 0.6rem;
    background: rgba(var(--tag-color), 0.2);
    background: color-mix(in srgb, var(--tag-color) 20%, transparent);
    color: var(--tag-color);
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 500;
    margin-right: 0.25rem;
    margin-bottom: 0.125rem;
    white-space: nowrap;
}

/* Cell Link */
.cell-link {
    color: var(--neon-blue);
    text-decoration: none;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
    max-width: 100%;
}

.cell-link:hover {
    text-decoration: underline;
}

/* Select Editor */
.cell-select-editor {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.5rem;
    background: rgba(15, 15, 25, 0.95);
    border: 1px solid var(--neon-purple);
    border-radius: 8px;
    min-width: 150px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4), 0 0 12px rgba(191, 90, 242, 0.2);
}

.select-option {
    padding: 0.35rem 0.75rem;
    background: color-mix(in srgb, var(--tag-color, var(--neon-purple)) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--tag-color, var(--neon-purple)) 40%, transparent);
    border-radius: 999px;
    color: var(--tag-color, var(--text-primary));
    font-size: 0.8rem;
    cursor: pointer;
    transition: var(--transition);
}

.select-option:hover {
    background: color-mix(in srgb, var(--tag-color, var(--neon-purple)) 30%, transparent);
}

.select-option.selected {
    background: var(--tag-color, var(--neon-purple));
    color: #000;
    font-weight: 600;
}

.select-option.clear-option {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--glass-border);
    color: var(--text-muted);
    --tag-color: transparent;
}

.select-option.clear-option:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

/* Add Row */
.base-row.add-row td {
    padding: 0;
    border-bottom: none;
}

.add-row-btn {
    width: 100%;
    padding: 0.75rem 1rem;
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 0.875rem;
    text-align: left;
    cursor: pointer;
    transition: var(--transition);
}

.add-row-btn:hover {
    color: var(--neon-purple);
    background: rgba(191, 90, 242, 0.05);
}

/* Property Menu */
.property-menu {
    background: rgba(20, 20, 35, 0.98);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    padding: 0.5rem;
    min-width: 160px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 20px rgba(191, 90, 242, 0.1);
    z-index: 1000;
}

.property-menu-header {
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--glass-border);
    margin-bottom: 0.25rem;
}

.property-menu-item {
    display: block;
    width: 100%;
    padding: 0.625rem 0.75rem;
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 0.875rem;
    text-align: left;
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.2s;
}

.property-menu-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.property-menu-item.danger {
    color: var(--neon-pink);
}

.property-menu-item.danger:hover {
    background: rgba(255, 42, 109, 0.1);
}

.property-menu-divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.1);
    margin: 0.25rem 0;
}

.property-menu-label {
    padding: 0.375rem 0.75rem;
    font-size: 0.7rem;
    text-transform: uppercase;
    color: var(--text-muted);
    letter-spacing: 0.05em;
}

.property-menu-item.type-option {
    font-size: 0.8rem;
    padding: 0.375rem 0.75rem;
}

.property-menu-item.type-option.selected {
    background: rgba(191, 90, 242, 0.15);
    color: var(--neon-purple);
}

/* Options Editor Modal */
.options-editor-modal {
    position: relative;
    padding-top: 0.5rem;
}

.options-editor-modal .modal-body {
    padding-top: 0.75rem;
}

.modal-close-corner {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 28px;
    height: 28px;
    border: none;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-muted);
    border-radius: 6px;
    cursor: pointer;
    font-size: 1.25rem;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    z-index: 10;
}

.modal-close-corner:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.options-list {
    max-height: 300px;
    overflow-y: auto;
    margin-top: 1rem;
}

.option-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 10px;
    margin-bottom: 0.5rem;
}

.option-item .option-input,
.add-option-row .option-input {
    flex: 1;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    color: var(--text-primary);
    font-size: 0.875rem;
    transition: var(--transition);
}

.option-item .option-input:focus,
.add-option-row .option-input:focus {
    outline: none;
    border-color: var(--neon-purple);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.2);
    background: rgba(255, 255, 255, 0.05);
}

.option-item .option-input::placeholder,
.add-option-row .option-input::placeholder {
    color: var(--text-muted);
}

.color-input {
    width: 42px;
    height: 42px;
    padding: 0;
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    background: transparent;
    cursor: pointer;
    flex-shrink: 0;
}

.color-input::-webkit-color-swatch-wrapper {
    padding: 2px;
}

.color-input::-webkit-color-swatch {
    border-radius: 4px;
    border: none;
}

.add-option-row {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.btn-icon {
    width: 32px;
    height: 32px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 42, 109, 0.1);
    border: 1px solid rgba(255, 42, 109, 0.3);
    color: var(--neon-pink);
    border-radius: 6px;
    cursor: pointer;
    transition: var(--transition);
}

.btn-icon:hover {
    background: rgba(255, 42, 109, 0.2);
}

/* Property Options Editor */
.property-options-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.property-option-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.property-option-item .option-label {
    flex: 1;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 0.875rem;
}

.property-option-item .option-label:focus {
    border-color: var(--neon-purple);
    outline: none;
}

.property-option-item .option-color {
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: none;
}

.property-option-item .option-remove {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 1.25rem;
    cursor: pointer;
    border-radius: 4px;
    transition: var(--transition);
}

.property-option-item .option-remove:hover {
    background: rgba(255, 42, 109, 0.1);
    color: var(--neon-pink);
}

/* Responsive */
@media (max-width: 768px) {
    .bases-list {
        grid-template-columns: 1fr;
    }
    
    .base-header {
        padding: 0.75rem 1rem;
    }
    
    .base-table-container {
        padding: 0.5rem;
    }
}

/* ============================================
   Column Sorting & Global ID Styles
   ============================================ */

/* Table Toolbar */
.table-toolbar {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 0.5rem 1rem;
    gap: 1rem;
}

.toggle-id-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
    font-size: 0.8125rem;
    cursor: pointer;
    user-select: none;
}

.toggle-id-label input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--neon-purple);
    cursor: pointer;
}

.toggle-id-label:hover {
    color: var(--text-primary);
}

/* Sortable Columns */
.base-th.sortable {
    cursor: pointer;
}

.base-th.sortable .base-th-content {
    cursor: pointer;
}

.base-th.sortable:hover .base-th-content {
    background: rgba(191, 90, 242, 0.08);
}

.base-th.sortable .prop-name {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}

/* Global ID Column */
.base-th-id {
    min-width: 60px;
    max-width: 80px;
}

.base-th-id .base-th-content {
    justify-content: center;
}

.base-cell-id {
    text-align: center;
    min-width: 60px;
    max-width: 80px;
    cursor: default !important;
    background: rgba(10, 10, 20, 0.3);
}

.base-cell-id:hover {
    background: rgba(10, 10, 20, 0.4) !important;
}

.global-id-value {
    font-family: 'SF Mono', 'Fira Code', 'Monaco', monospace;
    font-size: 0.75rem;
    color: var(--text-muted);
    background: rgba(191, 90, 242, 0.1);
    padding: 0.125rem 0.375rem;
    border-radius: 4px;
}

/* Sort Indicator Animation */
.base-th.sortable .prop-name::after {
    content: '';
    display: inline-block;
    margin-left: 0.25rem;
    opacity: 0;
    transition: opacity 0.2s;
}

.base-th.sortable:hover .prop-name::after {
    content: 'â†•';
    opacity: 0.4;
    font-size: 0.75rem;
}

/* When sorted, show the actual indicator instead */
.base-th.sortable .prop-name:has(> :last-child):hover::after {
    display: none;
}

/* ============================================
   BASES: System Columns & Drag/Drop Styles
   ============================================ */

/* System Columns Toggle Toolbar */
.system-columns-toggles {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.toggle-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
    font-size: 0.8125rem;
    cursor: pointer;
    user-select: none;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    transition: var(--transition);
}

.toggle-label:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.toggle-label input[type="checkbox"] {
    width: 14px;
    height: 14px;
    accent-color: var(--neon-purple);
    cursor: pointer;
}

/* System Column Headers */
.base-th-system {
    background: rgba(15, 15, 30, 0.95) !important;
}

.base-th-system .base-th-content {
    opacity: 0.8;
}

.base-th-system .system-icon {
    opacity: 0.7;
}

.base-th-system .prop-name {
    font-style: italic;
    font-size: 0.8rem;
}

/* System Column Cells */
.base-cell-system {
    background: rgba(10, 10, 20, 0.4);
    cursor: default !important;
}

.base-cell-system:hover {
    background: rgba(10, 10, 20, 0.5) !important;
}

/* System Date Value */
.system-date-value {
    font-size: 0.75rem;
    color: var(--text-muted);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    white-space: nowrap;
}

.base-cell-date {
    text-align: left;
    padding: 0.5rem 0.75rem !important;
}

/* ============================================
   Column Drag & Drop
   ============================================ */

/* Drag Handle */
.drag-handle {
    font-size: 0.7rem;
    color: var(--text-muted);
    opacity: 0;
    cursor: grab;
    padding: 0 0.25rem;
    margin-right: 0.25rem;
    transition: opacity 0.15s ease;
    user-select: none;
}

.base-th.draggable:hover .drag-handle {
    opacity: 0.6;
}

.base-th.draggable .drag-handle:hover {
    opacity: 1;
    color: var(--neon-purple);
}

/* Dragging State */
.base-th.dragging {
    opacity: 0.7;
    background: rgba(191, 90, 242, 0.15) !important;
    border: 1px dashed var(--neon-purple) !important;
    cursor: grabbing !important;
    z-index: 100;
}

.base-th.dragging .drag-handle {
    opacity: 1;
    cursor: grabbing;
}

body.column-dragging {
    cursor: grabbing !important;
}

body.column-dragging * {
    cursor: grabbing !important;
}

/* Drop Placeholder */
.base-th.drag-placeholder {
    background: rgba(191, 90, 242, 0.1) !important;
    border: 2px dashed var(--neon-purple) !important;
    border-radius: 4px;
    min-width: 40px;
}

/* Draggable Column Hover */
.base-th.draggable {
    transition: background 0.15s ease, border-color 0.15s ease;
}

.base-th.draggable:not(.dragging):hover {
    border-color: rgba(191, 90, 242, 0.3);
}

/* Prevent text selection while dragging */
body.column-dragging .base-table {
    user-select: none;
}

/* Visual distinction for non-draggable system columns */
.base-th-system::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 100%;
    background: linear-gradient(180deg, var(--neon-cyan), var(--neon-purple));
    opacity: 0.5;
}

/* System column tooltip hint */
.base-th-system .base-th-content::after {
    content: 'System';
    font-size: 0.6rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--neon-cyan);
    opacity: 0;
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    transition: opacity 0.2s;
}

.base-th-system:hover .base-th-content::after {
    opacity: 0.6;
}

/* ============================================
   BASES - Enhanced View Controls & Cards
   ============================================ */

/* Bases View Controls Bar */
.bases-view-controls {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-bottom: 1px solid var(--glass-border);
    background: #0a0a0f;
    width: 100%;
    box-sizing: border-box;
    flex-shrink: 0;
    min-height: 52px;
}

.bases-display-toggle {
    display: flex;
    gap: 0.25rem;
    background: transparent;
    padding: 0;
    border-radius: 0;
    border: none;
}

.bases-display-btn {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.75rem;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-secondary);
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.bases-display-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.bases-display-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
    box-shadow: 0 0 10px rgba(191, 90, 242, 0.2);
}

/* Card Size Control for Bases */

/* Bases display buttons - match Tasks view tab style */
.bases-display-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.85rem;
    cursor: pointer;
    transition: var(--transition);
}

.bases-display-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.bases-display-btn.active {
    background: rgba(191, 90, 242, 0.15);
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

.bases-display-btn svg {
    opacity: 0.7;
}

.bases-display-btn.active svg {
    opacity: 1;
}


/* Gradient divider before size controls - only shows when Cards selected */
.bases-card-size-control::before {
    content: '';
    display: block;
    width: 3px;
    height: 28px;
    margin-right: 1rem;
    background: linear-gradient(180deg, var(--neon-pink), var(--neon-blue));
    border-radius: 2px;
    flex-shrink: 0;
}

.bases-card-size-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 1rem;
    padding-left: 1rem;
    border-left: none;
}

.bases-card-size-label {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.bases-card-size-btn {
    width: 28px;
    height: 28px;
    border: 1px solid var(--glass-border);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.03);
    color: var(--text-secondary);
    font-size: 0.7rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.bases-card-size-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.bases-card-size-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

/* Bases Cards Grid - Size Variants */
.bases-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    padding: 1rem;
    align-items: start;
}

.bases-cards-grid.size-small {
    gap: 0.75rem;
}

.bases-cards-grid.size-small {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
}

.bases-cards-grid.size-small .base-card {
    height: auto;
}

.bases-cards-grid.size-medium {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

.bases-cards-grid.size-medium .base-card {
    height: auto;
}

.bases-cards-grid.size-large {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.bases-cards-grid.size-large .base-card {
    height: auto;
}

/* Base Card Sizes */
.base-card-small {
    padding: 0.75rem 1rem;
    gap: 0.75rem;
}

.base-card-small .base-card-icon {
    width: 36px;
    height: 36px;
    font-size: 1.5rem;
}

.base-card-medium {
    padding: 1rem 1.25rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
}

.base-card-medium .base-card-icon {
    margin-bottom: 0.25rem;
}

.base-card-large {
    padding: 1.25rem 1.5rem;
    flex-direction: column;
    align-items: stretch;
    gap: 0.75rem;
}

/* Large card header row */
.base-card-header-row {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    position: relative;
}

.base-card-header-row .base-card-icon {
    flex-shrink: 0;
}

.base-card-title-area {
    flex: 1;
    min-width: 0;
}

.base-card-modified {
    font-size: 0.7rem;
    color: var(--text-muted);
    margin-top: 0.2rem;
}

.base-card-header-row .base-card-edit,
.base-card-header-row .base-card-delete {
    position: static;
    opacity: 0;
    transition: var(--transition);
}

.base-card-large:hover .base-card-edit,
.base-card-large:hover .base-card-delete {
    opacity: 1;
}

/* Card description */
.base-card-description {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.5;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Hide description on small cards */
.bases-cards-grid.size-small .base-card-description {
    display: none;
}

/* Medium cards - limit to 2 lines */
.bases-cards-grid.size-medium .base-card-description {
    -webkit-line-clamp: 2;
}

/* Large cards - limit to 4 lines */
.bases-cards-grid.size-large .base-card-description {
    -webkit-line-clamp: 4;
}

/* Card stats */
.base-card-stats {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.25rem;
}

.base-card-stats-row {
    display: flex;
    gap: 1rem;
    padding-top: 0.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.base-stat {
    font-size: 0.75rem;
    color: var(--text-muted);
}

/* Columns preview */
.base-card-columns {
    font-size: 0.75rem;
    color: var(--text-muted);
    padding-top: 0.5rem;
}

.columns-label {
    color: var(--text-secondary);
    font-weight: 500;
}

/* Edit button on medium/large cards */
.base-card-edit {
    position: absolute;
    top: 0.5rem;
    right: 2rem;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 0.9rem;
    cursor: pointer;
    opacity: 0;
    transition: var(--transition);
    border-radius: 4px;
}

.base-card:hover .base-card-edit {
    opacity: 1;
}

.base-card-edit:hover {
    background: rgba(191, 90, 242, 0.2);
    color: var(--neon-purple);
}

/* ============================================
   BASES - List/Table View
   ============================================ */

.bases-list-table {
    padding: 1rem;
}

.bases-table-wrapper {
    overflow-x: auto;
    border-radius: 12px;
    border: 1px solid var(--glass-border);
    background: rgba(20, 20, 35, 0.95);
}

.bases-overview-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
}

.bases-overview-table th {
    text-align: left;
    padding: 0.75rem 1rem;
    font-weight: 500;
    color: var(--text-muted);
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--glass-border);
    background: rgba(255, 255, 255, 0.02);
}

.bases-overview-table .bases-th-icon {
    width: 50px;
}

.bases-overview-table .bases-th-name {
    width: 200px;
}

.bases-overview-table .bases-th-desc {
    min-width: 200px;
}

.bases-overview-table .bases-th-records {
    width: 100px;
    text-align: center;
}

.bases-overview-table .bases-th-modified {
    width: 120px;
}

.bases-overview-table .bases-th-actions {
    width: 70px;
}

.bases-table-row {
    transition: background 0.2s ease;
}

.bases-table-row:hover {
    background: rgba(191, 90, 242, 0.05);
}

.bases-table-row td {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
    cursor: pointer;
}

.bases-td-icon {
    text-align: center;
}

.base-row-icon {
    font-size: 1.25rem;
}

.base-row-name {
    font-weight: 500;
    color: var(--text-primary);
}

.base-row-desc {
    color: var(--text-muted);
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: inline-block;
}

.bases-td-records {
    text-align: center;
}

.base-row-records {
    background: rgba(191, 90, 242, 0.15);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--neon-purple);
}

.base-row-modified {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.bases-td-actions {
    display: flex;
    gap: 0.25rem;
    cursor: default !important;
}

.base-row-edit,
.base-row-delete {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 0.9rem;
    cursor: pointer;
    opacity: 0;
    transition: var(--transition);
    border-radius: 4px;
}

.bases-table-row:hover .base-row-edit,
.bases-table-row:hover .base-row-delete {
    opacity: 1;
}

.base-row-edit:hover {
    background: rgba(191, 90, 242, 0.2);
    color: var(--neon-purple);
}

.base-row-delete:hover {
    background: rgba(255, 42, 109, 0.2);
    color: var(--neon-pink);
}

/* Edit Base Modal */
.edit-base-modal-content {
    max-width: 450px;
}

.icon-picker-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.icon-picker-row input {
    width: 60px;
    text-align: center;
    font-size: 1.5rem;
    padding: 0.5rem;
}

.icon-picker-hint {
    font-size: 0.75rem;
    color: var(--text-muted);
}

/* Responsive adjustments */
@media (max-width: 1280px) {
    .bases-cards-grid.size-small .base-card {
        width: calc(33.333% - 0.6rem);
    }
    .bases-cards-grid.size-medium .base-card {
        width: calc(50% - 0.5rem);
    }
    .bases-cards-grid.size-large .base-card {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .bases-cards-grid.size-small .base-card,
    .bases-cards-grid.size-medium .base-card,
    .bases-cards-grid.size-large .base-card {
        width: 100%;
    }
    
    .bases-view-controls {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    
/* Bases display buttons - match Tasks view tab style */
.bases-display-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.85rem;
    cursor: pointer;
    transition: var(--transition);
}

.bases-display-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.bases-display-btn.active {
    background: rgba(191, 90, 242, 0.15);
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

.bases-display-btn svg {
    opacity: 0.7;
}

.bases-display-btn.active svg {
    opacity: 1;
}


/* Gradient divider before size controls - only shows when Cards selected */
.bases-card-size-control::before {
    content: '';
    display: block;
    width: 3px;
    height: 28px;
    margin-right: 1rem;
    background: linear-gradient(180deg, var(--neon-pink), var(--neon-blue));
    border-radius: 2px;
    flex-shrink: 0;
}

.bases-card-size-control {
        margin-left: 0;
        padding-left: 0;
        border-left: none;
    }
}

/* Fix bases list view width */
.bases-list.bases-list-table {
    display: block;
    width: 100%;
}

.bases-list-table .bases-table-wrapper {
    width: 100%;
    max-width: 100%;
}

/* ============================================
   SAVED VIEWS - Toolbar, Filters, Columns
   ============================================ */

.views-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: rgba(15, 15, 25, 0.95);
    border-bottom: 1px solid var(--glass-border);
    gap: 1rem;
    flex-wrap: wrap;
    flex-shrink: 0;
    z-index: 10;
}

.views-toolbar-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
    min-width: 0;
}

.views-tabs-container {
    flex: 1;
    min-width: 150px;
    overflow-x: auto;
}

/* Add Property button styling */
#add-property-btn {
    background: rgba(191, 90, 242, 0.15);
    border: 1px solid var(--neon-purple);
    color: var(--neon-purple);
}

#add-property-btn:hover {
    background: rgba(191, 90, 242, 0.25);
}

.views-tabs {
    display: flex;
    gap: 0.25rem;
    align-items: center;
    background: rgba(255, 255, 255, 0.03);
    padding: 0.25rem;
    border-radius: 10px;
    border: 1px solid var(--glass-border);
}

.view-tab {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: transparent;
    border: none;
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    white-space: nowrap;
}

.view-tab:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.view-tab.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.2);
}

.view-tab-actions {
    display: none;
    gap: 0.25rem;
    margin-left: 0.25rem;
}

.view-tab:hover .view-tab-actions {
    display: flex;
}

.view-tab-edit,
.view-tab-delete {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 0.7rem;
    cursor: pointer;
    border-radius: 3px;
    transition: var(--transition);
}

.view-tab-edit:hover {
    background: rgba(191, 90, 242, 0.2);
    color: var(--neon-purple);
}

.view-tab-delete:hover {
    background: rgba(255, 42, 109, 0.2);
    color: var(--neon-pink);
}

.views-actions {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.03);
    padding: 0.25rem;
    border-radius: 10px;
    border: 1px solid var(--glass-border);
}

.toolbar-btn {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.5rem 1rem;
    background: transparent;
    border: none;
    border-radius: 8px;
    color: var(--text-secondary);
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.toolbar-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.toolbar-btn.active {
    background: linear-gradient(135deg, rgba(191, 90, 242, 0.3), rgba(0, 170, 255, 0.2));
    color: var(--text-primary);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.2);
}

.toolbar-btn .btn-icon {
    /* Reset the global btn-icon styles */
    width: auto;
    height: auto;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: 0;
    font-size: 0.9rem;
    opacity: 0.8;
}

.toolbar-btn:hover .btn-icon,
.toolbar-btn.active .btn-icon {
    opacity: 1;
    background: transparent;
    border: none;
    box-shadow: none;
}

/* Add Property button - matches "+ Add Project" style */
#add-property-btn {
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue));
    border: none;
    border-radius: 10px;
    padding: 0.5rem 1rem;
    color: white;
    font-weight: 500;
}

#add-property-btn:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 20px rgba(255, 42, 109, 0.4);
}

#add-property-btn .btn-icon {
    opacity: 1;
}

/* Save View gets subtle distinction only when not active */
.save-view-btn:not(.active) {
    background: transparent;
}

.save-view-btn:hover:not(.active) {
    background: rgba(255, 255, 255, 0.05);
}

/* Filter Pills Bar */
.filter-pills-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(10, 10, 15, 0.3);
    border-bottom: 1px solid var(--glass-border);
    align-items: center;
    flex-shrink: 0;
}

.filter-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.35rem 0.75rem;
    background: rgba(191, 90, 242, 0.15);
    border: 1px solid rgba(191, 90, 242, 0.3);
    border-radius: 20px;
    color: var(--text-primary);
    font-size: 0.8rem;
}

.filter-pill-content {
    display: flex;
    gap: 0.25rem;
}

.filter-pill-content strong {
    color: var(--neon-purple);
}

.filter-pill-remove {
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 50%;
    transition: var(--transition);
}

.filter-pill-remove:hover {
    background: rgba(255, 42, 109, 0.3);
    color: var(--neon-pink);
}

.clear-all-filters-btn {
    padding: 0.25rem 0.5rem;
    background: transparent;
    border: 1px solid var(--glass-border);
    border-radius: 4px;
    color: var(--text-muted);
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--transition);
}

.clear-all-filters-btn:hover {
    background: rgba(255, 42, 109, 0.1);
    border-color: var(--neon-pink);
    color: var(--neon-pink);
}

/* Toolbar Dropdowns */
.toolbar-dropdown {
    background: rgba(20, 20, 35, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 0.75rem;
    min-width: 280px;
    max-width: 350px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    z-index: 1000;
}

.dropdown-header {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--glass-border);
    margin-bottom: 0.75rem;
}

.dropdown-divider {
    height: 1px;
    background: var(--glass-border);
    margin: 0.75rem 0;
}

.dropdown-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
}

/* Filter Builder */
.filter-builder {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-builder select,
.filter-builder input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 0.85rem;
}

.filter-builder select:focus,
.filter-builder input:focus {
    outline: none;
    border-color: var(--neon-purple);
}

.filter-builder select option {
    background: #1a1a2e;
}

.filter-builder .add-filter-btn {
    margin-top: 0.25rem;
}

.filter-presets {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.preset-filter-btn {
    padding: 0.4rem 0.75rem;
    background: transparent;
    border: 1px solid var(--glass-border);
    border-radius: 4px;
    color: var(--text-secondary);
    font-size: 0.8rem;
    cursor: pointer;
    text-align: left;
    transition: var(--transition);
}

.preset-filter-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: var(--neon-purple);
    color: var(--text-primary);
}

/* Columns Modal */
#columns-modal .modal-content {
    max-width: 400px;
}

#columns-modal .modal-body {
    padding: 1rem 1.5rem;
    max-height: 50vh;
    overflow-y: auto;
}

#columns-modal .modal-footer {
    justify-content: flex-end;
    gap: 0.5rem;
}

#columns-modal .modal-footer .btn {
    flex: none;
}

/* Filter Modal */
#filter-modal .modal-content {
    max-width: 420px;
}

#filter-modal .modal-body {
    padding: 1.25rem 1.5rem;
}

#filter-modal .form-group {
    margin-bottom: 1rem;
}

#filter-modal .form-group label {
    display: block;
    margin-bottom: 0.4rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

#filter-modal .form-input {
    width: 100%;
    padding: 0.6rem 0.75rem;
    background: var(--bg-tertiary);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 0.9rem;
}

#filter-modal .form-input:focus {
    outline: none;
    border-color: var(--neon-purple);
    box-shadow: 0 0 0 2px rgba(191, 90, 242, 0.2);
}

#filter-modal .form-input:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

#filter-modal .filter-value-group {
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

#filter-modal .modal-footer {
    justify-content: flex-end;
    gap: 0.5rem;
}

#filter-modal .modal-footer .btn {
    flex: none;
}

/* Columns Dropdown (legacy) */
.columns-dropdown {
    max-height: 400px;
    overflow-y: auto;
}

.columns-list {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.column-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: transparent;
    border-radius: 4px;
    cursor: pointer;
    transition: var(--transition);
}

.column-toggle:hover {
    background: rgba(255, 255, 255, 0.03);
}

.column-toggle input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--neon-purple);
    cursor: pointer;
}

.column-name {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-primary);
}

.system-badge {
    font-size: 0.65rem;
    padding: 0.15rem 0.4rem;
    background: rgba(0, 170, 255, 0.15);
    border: 1px solid rgba(0, 170, 255, 0.3);
    border-radius: 3px;
    color: var(--neon-blue);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.columns-actions {
    display: flex;
    gap: 0.5rem;
}

.columns-actions .btn {
    flex: 1;
    font-size: 0.75rem;
}

/* View Config Summary in Modal */
.view-config-summary {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 0.75rem;
    margin-top: 1rem;
}

.view-config-summary p {
    margin-bottom: 0.5rem;
    font-size: 0.85rem;
}

.view-config-summary ul {
    margin: 0;
    padding-left: 1.25rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.view-config-summary ul li {
    margin-bottom: 0.25rem;
}

/* Form Actions in Edit View Modal */
.form-actions {
    margin-top: 0.75rem;
}

.form-actions .btn {
    width: 100%;
}

/* Responsive */
@media (max-width: 768px) {
    .views-toolbar {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .views-tabs-container {
        width: 100%;
    }
    
    .views-actions {
        width: 100%;
        flex-wrap: wrap;
    }
    
    .toolbar-btn {
        flex: 1;
        justify-content: center;
    }
    
    .filter-pills-bar {
        padding: 0.5rem;
    }
}

/* ============================================
   RELATION PROPERTY STYLES
   ============================================ */

/* Relation Pills in cells */
.cell-relation-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.2rem 0.6rem;
    background: rgba(0, 170, 255, 0.15);
    border: 1px solid rgba(0, 170, 255, 0.3);
    color: var(--neon-cyan);
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 500;
    margin-right: 0.25rem;
    margin-bottom: 0.125rem;
    white-space: nowrap;
    cursor: pointer;
    transition: var(--transition);
}

.cell-relation-pill:hover {
    background: rgba(0, 170, 255, 0.25);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.3);
}

.cell-relation-pill.deleted {
    background: rgba(255, 42, 109, 0.15);
    border-color: rgba(255, 42, 109, 0.3);
    color: var(--neon-pink);
    opacity: 0.7;
}

.cell-relation-pill.highlighted {
    background: rgba(0, 170, 255, 0.35);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 12px rgba(0, 170, 255, 0.5), 0 0 20px rgba(0, 170, 255, 0.3);
    transform: scale(1.05);
    animation: relation-pill-pulse 0.5s ease-out;
}

@keyframes relation-pill-pulse {
    0% { transform: scale(1.1); }
    100% { transform: scale(1.05); }
}

/* ============================================
   FILE PROPERTY STYLES
   ============================================ */

/* File Pills in cells */
.cell-file-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.2rem 0.6rem;
    background: rgba(191, 90, 242, 0.15);
    border: 1px solid rgba(191, 90, 242, 0.3);
    color: var(--neon-purple);
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 500;
    margin-right: 0.25rem;
    margin-bottom: 0.125rem;
    white-space: nowrap;
    cursor: pointer;
    transition: var(--transition);
}

.cell-file-pill:hover {
    background: rgba(191, 90, 242, 0.25);
    border-color: var(--neon-purple);
    box-shadow: 0 0 8px rgba(191, 90, 242, 0.3);
}

.cell-file-pill.clickable:hover {
    background: rgba(0, 170, 255, 0.2);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.3);
}

.cell-file-pill.clickable:hover .file-name {
    text-decoration: underline;
}

.cell-file-pill .file-icon {
    font-size: 0.85rem;
    line-height: 1;
}

.cell-file-pill .file-name {
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Relation Picker Modal */
.relation-picker-modal {
    max-width: 450px;
}

.relation-picker-modal h2 {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--glass-border);
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.relation-search-bar {
    padding: 0 0 0.75rem 0;
}

.relation-search-bar input {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.9rem;
    transition: var(--transition);
}

.relation-search-bar input:focus {
    outline: none;
    border-color: var(--neon-cyan);
    box-shadow: 0 0 12px rgba(0, 170, 255, 0.2);
}

.relation-search-bar input::placeholder {
    color: var(--text-muted);
}

.relation-records-list {
    max-height: 300px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.relation-record-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 0.875rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid transparent;
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transition);
}

.relation-record-item:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(0, 170, 255, 0.3);
}

.relation-record-item.selected {
    background: rgba(0, 170, 255, 0.1);
    border-color: var(--neon-cyan);
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.2);
}

.relation-record-check {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--glass-border);
    border-radius: 4px;
    font-size: 0.75rem;
    color: transparent;
    transition: var(--transition);
}

.relation-record-item.selected .relation-record-check {
    background: var(--neon-cyan);
    border-color: var(--neon-cyan);
    color: #0a0a0f;
    font-weight: bold;
}

.relation-record-name {
    flex: 1;
    font-size: 0.9rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.relation-record-id {
    font-size: 0.75rem;
    color: var(--text-muted);
    font-family: monospace;
}

/* Relation property config in modal */
#property-relation-group {
    border-top: 1px solid var(--glass-border);
    padding-top: 1rem;
    margin-top: 0.5rem;
}

#relation-base-select {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    color: var(--text-primary);
    font-size: 0.875rem;
    transition: var(--transition);
}

#relation-base-select:focus {
    outline: none;
    border-color: var(--neon-purple);
    box-shadow: 0 0 20px rgba(191, 90, 242, 0.2);
}

#relation-base-select option {
    background: #0a0a0f;
}

.relation-checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.85rem;
    color: var(--text-secondary);
    padding: 0.5rem 0;
}

.relation-checkbox-label input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--neon-purple);
    cursor: pointer;
}

.relation-checkbox-label:hover {
    color: var(--text-primary);
}

/* Reverse relation group */
.relation-reverse-group {
    border-top: 1px solid var(--border-color);
}

#relation-reverse-name-group .small-label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin-bottom: 0.25rem;
}

#relation-reverse-name-group .form-hint {
    font-size: 0.7rem;
    color: var(--text-secondary);
    margin-top: 0.25rem;
    opacity: 0.8;
}

#relation-reverse-name {
    width: 100%;
    padding: 0.5rem;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-primary);
}

#relation-reverse-name:focus {
    border-color: var(--neon-purple);
    outline: none;
}

/* Filter dropdown for relation type */
.filter-value-relation {
    max-height: 200px;
    overflow-y: auto;
}

.filter-value-relation select {
    width: 100%;
}

/* Group Modal - Base Selection Checkboxes */
.group-bases-checkboxes {
    max-height: 180px;
    overflow-y: auto;
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.2);
}

.group-base-checkbox {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.15s ease;
}

.group-base-checkbox:hover {
    background: rgba(255, 255, 255, 0.05);
}

.group-base-checkbox input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--neon-purple);
}

.base-checkbox-icon {
    font-size: 0.9rem;
}

.base-checkbox-name {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.group-base-checkbox:hover .base-checkbox-name {
    color: var(--text-primary);
}


/* Empty Group State */
.sidebar-group-empty {
    padding: 0.5rem 0.75rem 0.5rem 2rem;
    font-size: 0.75rem;
    color: var(--text-muted);
    font-style: italic;
}


/* ============================================
   Core Bases Section Styles
   ============================================ */

/* Container positioned at bottom of sidebar */
.sidebar-core-bases-container {
  flex-shrink: 0;
  margin-top: auto;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-core-bases {
  padding: 0.5rem;
}

.sidebar-core-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.6rem 0.75rem;
  cursor: pointer;
  border-radius: 6px;
  background: linear-gradient(135deg, rgba(255, 107, 53, 0.15), rgba(255, 42, 109, 0.15));
  border: 1px solid rgba(255, 107, 53, 0.3);
  transition: all 0.2s ease;
}

.sidebar-core-header:hover {
  background: linear-gradient(135deg, rgba(255, 107, 53, 0.25), rgba(255, 42, 109, 0.25));
  border-color: rgba(255, 107, 53, 0.5);
}

.sidebar-core-toggle {
  font-size: 0.7rem;
  color: #ff6b35;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  width: 12px;
  text-align: center;
}

.sidebar-core-bases.collapsed .sidebar-core-toggle {
  transform: rotate(-90deg);
}

.sidebar-core-icon {
  font-size: 1rem;
}

.sidebar-core-title {
  flex: 1;
  font-weight: 600;
  font-size: 0.8rem;
  background: linear-gradient(90deg, #ff6b35, #ff2a6d);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.sidebar-core-count {
  font-size: 0.7rem;
  padding: 0.15rem 0.4rem;
  border-radius: 10px;
  background: rgba(255, 107, 53, 0.2);
  color: #ff6b35;
  font-weight: 500;
}

.sidebar-core-items {
  overflow: hidden;
  transition: max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-core-bases.collapsed .sidebar-core-items {
  max-height: 0 !important;
}

.sidebar-core-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  padding-left: 1.5rem;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.2s ease;
  margin-top: 0.25rem;
}

.sidebar-core-item:hover {
  background: rgba(255, 107, 53, 0.15);
}

.sidebar-core-item.active {
  background: linear-gradient(90deg, rgba(255, 107, 53, 0.25), rgba(255, 42, 109, 0.15));
  border-left: 2px solid #ff6b35;
}

.sidebar-core-item-icon {
  font-size: 1rem;
}

.sidebar-core-item-name {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
}

.sidebar-core-item.active .sidebar-core-item-name {
  color: #ff6b35;
}

/* Sidebar unschedule drop zone */
.calendar-sidebar.unschedule-drop-zone {
    position: relative;
    background: rgba(255, 42, 109, 0.1) !important;
    box-shadow: inset 0 0 30px rgba(255, 42, 109, 0.2);
    transition: all 0.2s ease;
}

.calendar-sidebar.unschedule-drop-zone::after {
    content: '';
    position: absolute;
    inset: 10px 6px 6px 6px;
    border: 2px solid var(--neon-pink);
    border-radius: 8px;
    box-shadow:
        0 0 15px rgba(255, 42, 109, 0.5),
        inset 0 0 15px rgba(255, 42, 109, 0.1);
    pointer-events: none;
}

/* ============================================
   PEOPLE TAB STYLES
   ============================================ */

/* Fix people tab to fill viewport */
.tab-content[data-tab="people"] {
    height: calc(100vh - 60px);
    overflow: hidden;
}

.people-layout {
    display: flex;
    height: 100%;
    overflow: hidden;
}

/* People Sidebar */
.people-sidebar {
    width: 240px;
    min-width: 240px;
    background: rgba(15, 15, 25, 0.6);
    border-right: 1px solid var(--glass-border);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.people-sidebar > .sidebar-new-person-btn {
    margin: 0.75rem;
    width: calc(100% - 1.5rem);
    flex-shrink: 0;
    box-sizing: border-box;
}

.sidebar-new-person-btn {
    width: auto;
    margin: 0.75rem;
    padding: 0.6rem 1rem;
    box-sizing: border-box;
    max-width: calc(100% - 1.5rem);
    background: linear-gradient(135deg, var(--neon-cyan), var(--neon-blue));
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-new-person-btn:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 15px rgba(0, 245, 212, 0.3);
}

/* People sidebar person items */
.sidebar-person-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.75rem 0.4rem 2rem;
    cursor: pointer;
    transition: var(--transition);
}

.sidebar-person-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.sidebar-person-item.active {
    background: rgba(0, 245, 212, 0.15);
    border-right: 2px solid var(--neon-cyan);
}

.sidebar-person-avatar {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.65rem;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.sidebar-person-name {
    flex: 1;
    font-size: 0.8rem;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.sidebar-person-item:hover .sidebar-person-name,
.sidebar-person-item.active .sidebar-person-name {
    color: var(--text-primary);
}

.sidebar-person-drag-handle {
    width: 14px;
    font-size: 0.65rem;
    color: var(--text-muted);
    opacity: 0;
    cursor: grab;
    transition: opacity 0.15s ease;
    margin-left: -8px;
    margin-right: -2px;
}

.sidebar-person-item:hover .sidebar-person-drag-handle {
    opacity: 0.6;
}

.sidebar-person-item:hover .sidebar-person-drag-handle:hover {
    opacity: 1;
}

.sidebar-person-item.dragging {
    opacity: 0.4;
    background: rgba(0, 245, 212, 0.1);
}

/* People Main Content Area */
.people-main-content {
    flex: 1;
    overflow: auto;
    display: flex;
    flex-direction: column;
}

.people-list-view {
    padding: 0;
}

.people-view-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--glass-border);
    background: rgba(15, 15, 25, 0.4);
}

/* People Display Toggle */
.people-display-toggle {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 0.25rem;
}

.people-display-btn {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.4rem 0.6rem;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-muted);
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--transition);
}

.people-display-btn:hover {
    color: var(--text-secondary);
    background: rgba(255, 255, 255, 0.05);
}

.people-display-btn.active {
    color: var(--text-primary);
    background: rgba(0, 245, 212, 0.15);
}

.people-display-btn svg {
    stroke: currentColor;
}

.people-display-btn.active svg {
    stroke: var(--neon-cyan);
}

/* People Card Size Control */
.people-card-size-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.people-card-size-label {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.people-card-size-btn {
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid transparent;
    border-radius: 6px;
    color: var(--text-muted);
    font-size: 0.7rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.people-card-size-btn:hover {
    color: var(--text-secondary);
    border-color: var(--glass-border);
}

.people-card-size-btn.active {
    color: var(--neon-cyan);
    background: rgba(0, 245, 212, 0.1);
    border-color: rgba(0, 245, 212, 0.3);
}

/* People Cards Grid */
.people-list {
    padding: 1rem;
}

.people-cards-grid {
    display: grid;
    gap: 1rem;
}

.people-cards-grid.size-small {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
}

.people-cards-grid.size-medium {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
}

.people-cards-grid.size-large {
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
}

/* Person Card */
.person-card {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1.25rem;
    background: linear-gradient(135deg, rgba(30, 30, 50, 0.6), rgba(20, 20, 35, 0.8));
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    cursor: pointer;
    transition: var(--transition);
}

.person-card:hover {
    transform: translateY(-2px);
    border-color: rgba(0, 245, 212, 0.3);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 30px rgba(0, 245, 212, 0.1);
}

.person-card-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    font-weight: 600;
    color: white;
    margin-bottom: 0.75rem;
}

.person-card-name {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.person-card-relationship {
    font-size: 0.8rem;
    color: var(--neon-cyan);
    text-transform: capitalize;
    margin-bottom: 0.25rem;
}

.person-card-company {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.person-card-email,
.person-card-phone {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin-top: 0.25rem;
}

.person-card-delete {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 22px;
    height: 22px;
    background: rgba(255, 0, 0, 0.1);
    border: none;
    border-radius: 50%;
    color: var(--text-muted);
    font-size: 0.9rem;
    cursor: pointer;
    opacity: 0;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
}

.person-card:hover .person-card-delete {
    opacity: 1;
}

.person-card-delete:hover {
    background: rgba(255, 42, 109, 0.3);
    color: var(--neon-pink);
}

/* Size variants */
.people-cards-grid.size-small .person-card {
    padding: 0.75rem;
}

.people-cards-grid.size-small .person-card-avatar {
    width: 48px;
    height: 48px;
    font-size: 1rem;
    margin-bottom: 0.5rem;
}

.people-cards-grid.size-small .person-card-name {
    font-size: 0.85rem;
}

.people-cards-grid.size-large .person-card {
    padding: 1.5rem;
}

.people-cards-grid.size-large .person-card-avatar {
    width: 80px;
    height: 80px;
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

/* ===================== */
/* PERSON CARD - CLICKABLE CONTACT INFO */
/* ===================== */

/* Contact info grid container - 2x2 layout */
.person-card-contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
    margin-top: 0.75rem;
    width: 100%;
    text-align: left;
}

/* Contact info sections within the grid */
.person-card-phones {
    grid-column: 1;
    grid-row: 1;
}

.person-card-emails {
    grid-column: 2;
    grid-row: 1;
    overflow: visible;  /* Allow content to show, not clip */
    min-width: 0;  /* Keep for grid sizing */
}

.person-card-address-container {
    grid-column: 1 / -1;  /* Spans both columns */
    grid-row: 2;
    text-align: center;
}

/* Contact info containers - vertical stacking within each cell */
.person-card-phones,
.person-card-emails,
.person-card-address-container {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
}

/* Individual contact links - clickable appearance */
.person-card-phone,
.person-card-email,
.person-card-address {
    display: flex;  /* Changed from inline-flex for proper truncation */
    align-items: center;
    gap: 0.375rem;
    font-size: 0.75rem;
    color: var(--neon-cyan);
    text-decoration: none;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    transition: var(--transition);
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.person-card-phone:hover,
.person-card-email:hover,
.person-card-address:hover {
    text-decoration: underline;
    text-underline-offset: 2px;
    background: rgba(0, 245, 212, 0.1);
    text-shadow: 0 0 8px var(--neon-cyan);
}

/* Icons in contact links */
.person-card-phone svg,
.person-card-email svg,
.person-card-address svg {
    flex-shrink: 0;
    width: 14px;
    height: 14px;
    opacity: 0.8;
}

/* Muted labels (Mobile:, Work:, etc.) */
.person-card-phone .contact-label,
.person-card-email .contact-label,
.person-card-address .contact-label {
    color: var(--text-muted);
    font-size: 0.65rem;
    text-transform: capitalize;
}

/* Email specific - allow wrapping instead of truncation */
.person-card-email {
    white-space: normal !important;
    word-break: break-all !important;
    overflow: visible !important;
    text-overflow: clip !important;
}

/* Address specific - may wrap on multiple lines */
.person-card-address {
    display: block !important;  /* Override flex to allow natural text wrapping */
    white-space: normal !important;
    word-break: break-word !important;
    overflow: visible !important;
    text-overflow: clip !important;
    text-align: center;
    line-height: 1.3;
}

/* Keep icon inline with address text */
.person-card-address svg {
    display: inline-block;
    vertical-align: middle;
    margin-right: 0.375rem;
}

/* Touch device adjustments - 44px minimum touch target */
@media (pointer: coarse) {
    .person-card-phone,
    .person-card-email,
    .person-card-address {
        min-height: 44px;
        padding: 0.625rem 0.75rem;
        font-size: 0.875rem;
    }
    
    .person-card-phone svg,
    .person-card-email svg,
    .person-card-address svg {
        width: 18px;
        height: 18px;
    }
    
    .person-card-phones,
    .person-card-emails,
    .person-card-address-container {
        gap: 0.25rem;
    }
    
    .person-card-contact-grid {
        gap: 0.75rem;
    }
}

/* Mobile: Stack grid to single column on narrow screens */
@media (max-width: 360px) {
    .person-card-contact-grid {
        grid-template-columns: 1fr;
    }
    
    .person-card-phones,
    .person-card-emails {
        grid-column: 1;
    }
    
    .person-card-emails {
        grid-row: 2;
    }
    
    .person-card-address-container {
        grid-row: 3;
    }
}

/* Size variants for contact info */
.people-cards-grid.size-small .person-card-phone,
.people-cards-grid.size-small .person-card-email,
.people-cards-grid.size-small .person-card-address {
    font-size: 0.7rem;
    padding: 0.125rem 0.375rem;
}

.people-cards-grid.size-small .person-card-contact-grid {
    margin-top: 0.375rem;
    gap: 0.25rem;
}

.people-cards-grid.size-large .person-card-phone,
.people-cards-grid.size-large .person-card-email,
.people-cards-grid.size-large .person-card-address {
    font-size: 0.85rem;
    padding: 0.375rem 0.625rem;
}

.people-cards-grid.size-large .person-card-phone svg,
.people-cards-grid.size-large .person-card-email svg,
.people-cards-grid.size-large .person-card-address svg {
    width: 16px;
    height: 16px;
}

.people-cards-grid.size-large .person-card-contact-grid {
    margin-top: 1rem;
    gap: 0.75rem;
}

/* People List View */
.people-list-view .people-table {
    width: 100%;
    border-collapse: collapse;
}

.people-table th,
.people-table td {
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid var(--glass-border);
}

.people-table th {
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    background: rgba(15, 15, 25, 0.4);
}

.people-list-row {
    cursor: pointer;
    transition: var(--transition);
}

.people-list-row:hover {
    background: rgba(255, 255, 255, 0.03);
}

.people-list-name-cell {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.people-list-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

/* People Empty State */
.people-empty-state {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 200px;
    color: var(--text-muted);
    font-size: 0.9rem;
}

/* Person Detail View */
.person-detail-view {
    flex: 1;
    overflow-y: auto;
}

.person-detail-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid var(--glass-border);
    background: rgba(15, 15, 25, 0.4);
}

.person-name-display {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
}

.person-detail-content {
    padding: 1.5rem;
}

.person-detail-card {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(30, 30, 50, 0.6), rgba(20, 20, 35, 0.8));
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    margin-bottom: 1.5rem;
}

.person-detail-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.person-detail-info h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.person-detail-relationship {
    color: var(--neon-cyan);
    font-size: 0.95rem;
}

.person-detail-company {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.person-detail-sections {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.person-detail-section {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 1rem;
}

.person-detail-section h4 {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.person-detail-fields {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.person-detail-field {
    display: flex;
    gap: 0.5rem;
}

.person-detail-field .field-label {
    color: var(--text-muted);
    font-size: 0.85rem;
    min-width: 120px;
}

.person-detail-field .field-value {
    color: var(--text-primary);
    font-size: 0.85rem;
}

.person-detail-field a.field-value {
    color: var(--neon-cyan);
    text-decoration: none;
}

.person-detail-field a.field-value:hover {
    text-decoration: underline;
}

.person-detail-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--glass-border);
}

/* People sidebar ungrouped section styling */
.people-sidebar-ungrouped {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid var(--glass-border);
}

/* ===========================================
   NEW JOB MODAL - Wide Grid Layout
   FIXES: Wider (1400px), proper scrolling
   =========================================== */

/* Wide modal override - FIXED: wider to show all 3 columns */
.modal-job .modal-content {
    max-width: 1400px;
    width: 95vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
}

/* Form element needs to participate in flex layout for scrolling */
.modal-job #new-job-form {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0;
    overflow: hidden;
}

/* Job form grid container - FIXED: scrollable */
.job-form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: auto auto auto auto auto;
    gap: 1.5rem;
    padding: 1.5rem;
    overflow-y: auto;
    flex: 1;
    min-height: 0;
}

/* Row 0: Job Type Selection (full width) */
.job-section-job-type,
.job-section-job-setup { grid-column: 1 / -1; grid-row: 1; }

/* Row 1: 3 equal columns */
.job-section-client { grid-column: 1; grid-row: 2; }
.job-section-insurance { grid-column: 2; grid-row: 2; }
.job-section-property { grid-column: 3; grid-row: 2; }

/* Row 2: Full width */
.job-section-loss { grid-column: 1 / -1; grid-row: 3; }

/* Row 3: 2 columns */
.job-section-assignment { grid-column: 1 / 2; grid-row: 4; }
.job-section-tracking { grid-column: 2 / -1; grid-row: 4; }

/* Row 5: Contacts */
.job-section-contacts { grid-column: 1 / -1; grid-row: 5; }

/* Section card styling */
.job-section {
    background: rgba(20, 20, 35, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 1.25rem;
}

.job-section:hover {
    border-color: rgba(255, 255, 255, 0.12);
}

/* Section headers */
.job-section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.job-section-header h3 {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.job-section-header svg {
    width: 18px;
    height: 18px;
    opacity: 0.7;
    color: var(--neon-purple, #a855f7);
}

/* Section placeholder content */
.job-section-content {
    min-height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-size: 0.85rem;
    font-style: italic;
}

/* Same toggle button (for Property section) */
.same-toggle-btn {
    margin-left: auto;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition);
}

.same-toggle-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
}

.same-toggle-btn.active {
    background: rgba(168, 85, 247, 0.2);
    border-color: var(--neon-purple, #a855f7);
    color: var(--neon-purple, #a855f7);
}

/* ===========================================
   JOB SETUP SECTION (T2, T3, T4)
   Job type buttons + job number inputs
   =========================================== */

/* Job Setup content layout */
.job-setup-content {
    display: flex;
    flex-direction: column;
}

.job-setup-row {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.job-setup-label {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-secondary);
}

.section-required-hint {
    margin-left: auto;
    font-size: 0.7rem;
    color: var(--text-muted);
}

/* T2: Job Type Toggle Buttons */
.job-type-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.job-type-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.75rem 1.25rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: var(--text-secondary);
}

.job-type-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.2);
}

.job-type-btn.active {
    background: rgba(168, 85, 247, 0.15);
    border-color: var(--neon-purple, #a855f7);
    color: var(--text-primary);
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
}

.job-type-btn .btn-name {
    font-size: 0.9rem;
    font-weight: 500;
}

.job-type-btn .btn-code {
    font-size: 0.75rem;
    opacity: 0.7;
    margin-top: 0.25rem;
}

/* T3: Job Numbers Inputs */
.job-numbers-row {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.job-numbers-inputs {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.job-number-input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    min-width: 200px;
    flex: 1;
}

.job-number-input-group label {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.job-number-input-wrapper {
    display: flex;
    gap: 0.5rem;
}

.job-number-input-wrapper input {
    flex: 1;
    padding: 0.6rem 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.875rem;
}

.job-number-input-wrapper input:focus {
    outline: none;
    border-color: var(--neon-purple, #a855f7);
    box-shadow: 0 0 15px rgba(168, 85, 247, 0.2);
}

.job-number-input-wrapper input::placeholder {
    color: var(--text-muted);
}

/* Generate button */
.btn-generate {
    padding: 0.6rem 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.8rem;
}

.btn-generate:hover {
    background: rgba(168, 85, 247, 0.15);
    border-color: var(--neon-purple, #a855f7);
    color: var(--neon-purple, #a855f7);
}

.btn-generate.loading {
    pointer-events: none;
    opacity: 0.6;
}

.btn-generate svg {
    width: 14px;
    height: 14px;
}

/* Job modal footer */
.job-modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(10, 10, 20, 0.5);
    flex-shrink: 0;
}

.job-modal-footer .modal-actions {
    display: flex;
    gap: 0.75rem;
}

.job-modal-footer .modal-hint {
    font-size: 0.75rem;
    color: var(--text-muted);
}

/* Responsive: Tablet (2 columns) */
@media (max-width: 1280px) {
    .modal-job .modal-content {
        max-width: 95vw;
    }
    
    .job-form-grid {
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: auto auto auto auto auto auto;
    }
    
    /* Row 0: Job Type (full width) */
    .job-section-job-type,
    .job-section-job-setup { grid-column: 1 / -1; grid-row: 1; }
    
    /* Row 1: 2 columns */
    .job-section-client { grid-column: 1; grid-row: 2; }
    .job-section-insurance { grid-column: 2; grid-row: 2; }
    
    /* Row 2: Full width */
    .job-section-property { grid-column: 1 / -1; grid-row: 3; }
    
    /* Row 3: Full width */
    .job-section-loss { grid-column: 1 / -1; grid-row: 4; }
    
    /* Row 4: 2 columns */
    .job-section-assignment { grid-column: 1; grid-row: 5; }
    .job-section-tracking { grid-column: 2; grid-row: 5; }
    
    /* Row 5: Full width */
    .job-section-contacts { grid-column: 1 / -1; grid-row: 6; }
    
    /* Job number inputs adjust on tablet */
    .job-number-input-group {
        min-width: 180px;
    }
}

/* Responsive: Mobile (1 column) */
@media (max-width: 640px) {
    .modal-job .modal-content {
        max-width: 100%;
        width: 100%;
        height: 100vh;
        max-height: 100vh;
        border-radius: 0;
    }
    
    .job-form-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        gap: 1rem;
        padding: 1rem;
    }
    
    /* All sections stack in single column */
    .job-section-job-type,
    .job-section-job-setup,
    .job-section-client,
    .job-section-insurance,
    .job-section-property,
    .job-section-loss,
    .job-section-assignment,
    .job-section-tracking,
    .job-section-contacts {
        grid-column: 1;
        grid-row: auto;
    }
    
    .job-section-content {
        min-height: 80px;
    }
    
    /* Job type buttons wrap on mobile */
    .job-type-buttons {
        flex-wrap: wrap;
    }
    
    .job-type-btn {
        flex: 1 1 calc(50% - 0.5rem);
        min-width: 120px;
    }
    
    /* Job numbers stack on mobile */
    .job-numbers-inputs {
        flex-direction: column;
    }
    
    .job-number-input-group {
        min-width: 100%;
    }
    
    .job-numbers-row {
        margin-top: 1rem;
        padding-top: 1rem;
    }
}

/* ===========================================
   JOB FORM FIELDS
   =========================================== */

/* Override placeholder content style for actual fields */
.job-section-content.job-fields {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    min-height: auto;
    align-items: start;
    justify-content: stretch;
}

/* Wide layout for Loss section (4 columns) */
.job-fields-wide {
    grid-template-columns: repeat(4, 1fr);
}

/* Field widths */
.job-field {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.job-field-full {
    grid-column: 1 / -1;
}

/* Field labels */
.job-field label {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.job-field label .required {
    color: #ec4899;
}

/* Input styling */
.job-field input,
.job-field select,
.job-field textarea {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    color: var(--text-primary);
    transition: var(--transition);
}

.job-field input:focus,
.job-field select:focus,
.job-field textarea:focus {
    outline: none;
    border-color: var(--neon-purple, #a855f7);
    background: rgba(255, 255, 255, 0.08);
}

.job-field input::placeholder,
.job-field textarea::placeholder {
    color: var(--text-muted);
}

.job-field select {
    cursor: pointer;
}

.job-field textarea {
    resize: vertical;
    min-height: 60px;
}

/* Divider text inside sections */
.job-field-divider {
    margin-top: 0.5rem;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.field-divider-text {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Urgent toggle in Loss section header */
.urgent-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: auto;
    cursor: pointer;
}

.urgent-toggle input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: #ec4899;
}

.urgent-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
}

.urgent-toggle input:checked + .urgent-label {
    color: #ec4899;
}

/* Same as client - visual highlighting */
#property-fields.same-active {
    background: rgba(168, 85, 247, 0.05);
    border-radius: 8px;
    padding: 0.75rem;
    margin: -0.75rem;
}

#property-fields.same-active .prop-field {
    background: rgba(168, 85, 247, 0.1);
    border-color: rgba(168, 85, 247, 0.3);
}

#property-fields.same-active .prop-field:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* Responsive for wide loss section */
@media (max-width: 1024px) {
    .job-fields-wide {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 640px) {
    .job-section-content.job-fields,
    .job-fields-wide {
        grid-template-columns: 1fr;
    }
    
    .job-field-half {
        grid-column: 1;
    }
}

/* ===========================================
   JOB TYPE SELECTION SECTION
   =========================================== */

/* Job type content layout */
.job-type-content,
.job-setup-content {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    min-height: auto !important;
    align-items: stretch !important;
    justify-content: flex-start !important;
}

.job-type-row,
.job-setup-row,
.job-numbers-row {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.job-type-label,
.job-setup-label {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.job-type-label .required,
.job-setup-label .required {
    color: #ec4899;
}

.required-hint,
.section-required-hint {
    margin-left: auto;
    font-size: 0.7rem;
    color: var(--text-muted);
    font-weight: 400;
}

/* Job type toggle buttons */
.job-type-buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.job-type-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.125rem;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.25s ease;
    min-width: 100px;
}

.job-type-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.2);
}

.job-type-btn .job-type-name,
.job-type-btn .btn-name {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
}

.job-type-btn .job-type-code,
.job-type-btn .btn-code {
    font-size: 0.7rem;
    color: var(--text-muted);
    font-weight: 600;
}

/* Active/selected state - neon glow */
.job-type-btn.active {
    background: rgba(191, 90, 242, 0.15);
    border-color: var(--neon-purple);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.3),
                inset 0 0 20px rgba(191, 90, 242, 0.1);
}

.job-type-btn.active .job-type-name,
.job-type-btn.active .btn-name {
    color: var(--neon-purple);
    text-shadow: 0 0 10px rgba(191, 90, 242, 0.5);
}

.job-type-btn.active .job-type-code,
.job-type-btn.active .btn-code {
    color: var(--neon-purple);
    opacity: 0.8;
}

/* Job numbers section */
.job-numbers-inputs {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.job-number-input-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.job-number-type-label {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-secondary);
    min-width: 100px;
}

.job-number-input-wrapper {
    display: flex;
    flex: 1;
    gap: 0.5rem;
    align-items: center;
}

.job-number-input-wrapper input {
    flex: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    color: var(--text-primary);
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
    transition: var(--transition);
}

.job-number-input-wrapper input:focus {
    outline: none;
    border-color: var(--neon-purple);
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.2);
}

.job-number-input-wrapper input::placeholder {
    color: var(--text-muted);
    font-family: inherit;
}

/* Generate button (wand icon) */
.job-number-generate-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.25s ease;
    color: var(--text-secondary);
    flex-shrink: 0;
}

.job-number-generate-btn:hover {
    background: rgba(191, 90, 242, 0.15);
    border-color: var(--neon-purple);
    color: var(--neon-purple);
    box-shadow: 0 0 15px rgba(191, 90, 242, 0.3);
}

.job-number-generate-btn:active {
    transform: scale(0.95);
}

.job-number-generate-btn svg {
    width: 18px;
    height: 18px;
}

/* Animation for generating */
.job-number-generate-btn.generating {
    animation: pulse-glow 0.5s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes pulse-glow {
    0% { 
        box-shadow: 0 0 8px rgba(191, 90, 242, 0.3);
    }
    100% { 
        box-shadow: 0 0 20px rgba(191, 90, 242, 0.6);
    }
}

/* Job number input with filled state */
.job-number-input-wrapper input.filled {
    border-color: rgba(5, 255, 161, 0.3);
    background: rgba(5, 255, 161, 0.05);
}

/* End JOB TYPE SELECTION SECTION */

/* End JOB FORM FIELDS */

/* ============================================
   FILE UPLOAD MODAL
   ============================================ */

.modal-file-upload {
  max-width: 550px;
}

.modal-file-upload .modal-body {
  padding: 1.5rem;
}

/* Drop Zone */
.file-drop-zone {
  position: relative;
  border: 2px dashed rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 2rem;
  text-align: center;
  background: rgba(255, 255, 255, 0.02);
  transition: var(--transition);
  margin-bottom: 1.5rem;
}

.file-drop-zone:hover {
  border-color: rgba(191, 90, 242, 0.4);
  background: rgba(191, 90, 242, 0.05);
}

.file-drop-zone.drag-over {
  border-color: var(--neon-purple);
  background: rgba(191, 90, 242, 0.1);
  box-shadow: 0 0 20px rgba(191, 90, 242, 0.2);
}

.file-drop-zone.drag-over .drop-zone-content {
  opacity: 0.3;
}

.file-drop-zone.drag-over .drop-zone-overlay {
  opacity: 1;
}

.file-drop-zone.disabled {
  pointer-events: none;
  opacity: 0.6;
}

.drop-zone-content {
  transition: opacity 0.2s ease;
}

.drop-zone-icon {
  font-size: 2.5rem;
  display: block;
  margin-bottom: 0.75rem;
}

.drop-zone-text {
  font-size: 1rem;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
}

.drop-zone-subtext {
  font-size: 0.8rem;
  color: var(--text-muted);
  margin-bottom: 0.75rem;
}

.browse-btn {
  margin-top: 0.5rem;
}

.drop-zone-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(191, 90, 242, 0.15);
  border-radius: 10px;
  opacity: 0;
  transition: opacity 0.2s ease;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--neon-purple);
  text-shadow: 0 0 20px var(--neon-purple);
}

/* Upload Progress */
.upload-progress {
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 8px;
}

.upload-progress-bar {
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.upload-progress-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--neon-purple), var(--neon-cyan));
  border-radius: 2px;
  transition: width 0.3s ease;
}

.upload-progress-fill.indeterminate {
  width: 100% !important;
  background: linear-gradient(90deg, var(--neon-purple), var(--neon-cyan), var(--neon-purple));
  background-size: 200% 100%;
  animation: progress-slide 1.5s ease-in-out infinite;
}

@keyframes progress-slide {
  0% { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}

.upload-progress-text {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

/* Upload Error */
.upload-error {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  margin-top: 0.5rem;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 8px;
  color: var(--danger);
}

.upload-error .error-icon {
  flex-shrink: 0;
}

.upload-error .error-text {
  flex: 1;
  font-size: 0.875rem;
}

.upload-error .error-retry {
  flex-shrink: 0;
  padding: 0.25rem 0.75rem;
  font-size: 0.75rem;
}

/* Upload Status Banner */
.upload-status-banner {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 8px;
  font-size: 0.875rem;
}

.upload-status-banner.warning {
  background: rgba(255, 170, 0, 0.1);
  border: 1px solid rgba(255, 170, 0, 0.3);
  color: #ffaa00;
}

.upload-status-banner.error {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: var(--danger);
}

.upload-status-banner.success {
  background: rgba(5, 255, 161, 0.1);
  border: 1px solid rgba(5, 255, 161, 0.3);
  color: var(--neon-mint);
}

.upload-status-banner.info {
  background: rgba(0, 170, 255, 0.1);
  border: 1px solid rgba(0, 170, 255, 0.3);
  color: var(--neon-cyan);
}

.upload-status-banner .status-icon {
  flex-shrink: 0;
}

.upload-status-banner .status-message {
  flex: 1;
}

.upload-status-banner .retry-all-btn {
  flex-shrink: 0;
  padding: 0.25rem 0.75rem;
  font-size: 0.75rem;
}

/* File Status Indicators */
.file-status-indicator {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  font-size: 0.75rem;
  flex-shrink: 0;
}

.file-status-indicator.uploading {
  animation: pulse 1.5s ease-in-out infinite;
}

.file-status-indicator.error {
  color: var(--danger);
}

.file-status-indicator.success {
  color: var(--neon-mint);
}

.file-status-indicator.pending {
  color: var(--text-muted);
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* File Item States */
.file-item.uploading {
  border-color: rgba(191, 90, 242, 0.4);
  background: rgba(191, 90, 242, 0.08);
}

.file-item.error {
  border-color: rgba(239, 68, 68, 0.4);
  background: rgba(239, 68, 68, 0.08);
}

.file-item.success {
  border-color: rgba(5, 255, 161, 0.3);
  background: rgba(5, 255, 161, 0.05);
}

/* File Item Layout for Error/Warning Rows */
.file-item-main {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.file-item {
  flex-direction: column;
  align-items: stretch;
  gap: 0;
}

/* File Error Row */
.file-error-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid rgba(239, 68, 68, 0.2);
  font-size: 0.75rem;
}

.file-error-icon {
  flex-shrink: 0;
  font-size: 0.875rem;
}

.file-error-message {
  flex: 1;
  color: var(--danger);
}

.file-retry-btn {
  flex-shrink: 0;
  padding: 0.2rem 0.5rem !important;
  font-size: 0.7rem !important;
}

/* File Warning Row */
.file-warning-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid rgba(255, 170, 0, 0.2);
  font-size: 0.75rem;
}

.file-warning-icon {
  flex-shrink: 0;
  font-size: 0.875rem;
}

.file-warning-message {
  flex: 1;
  color: #ffaa00;
}

/* File List Section */
.file-list-section {
  margin-top: 0.5rem;
}

.file-list-header {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-secondary);
  margin-bottom: 0.75rem;
}

.file-count {
  color: var(--text-muted);
  font-weight: 400;
}

.file-list {
  max-height: 250px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.no-files {
  color: var(--text-muted);
  font-size: 0.875rem;
  text-align: center;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 8px;
}

/* File Item */
.file-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 8px;
  transition: var(--transition);
}

.file-item:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

.file-item.pending {
  border-color: rgba(191, 90, 242, 0.3);
  background: rgba(191, 90, 242, 0.05);
}

.file-item.error:hover {
  background: rgba(239, 68, 68, 0.12);
}

.file-item-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 0;
}

.file-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.file-thumbnail {
  max-width: 40px;
  max-height: 40px;
  object-fit: cover;
  border-radius: 4px;
  flex-shrink: 0;
}

.file-thumbnail-placeholder {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.file-details {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.file-name {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.file-name.clickable {
  color: var(--neon-cyan);
  cursor: pointer;
  transition: var(--transition);
}

.file-name.clickable:hover {
  color: #fff;
  text-decoration: underline;
}

.file-size {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.file-item-actions {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  flex-shrink: 0;
}

.file-action {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: transparent;
  border: 1px solid transparent;
  border-radius: 6px;
  color: var(--text-muted);
  font-size: 1rem;
  cursor: pointer;
  transition: var(--transition);
  text-decoration: none;
}

.file-action:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text-primary);
  border-color: rgba(255, 255, 255, 0.1);
}

.file-action.delete-file:hover {
  background: rgba(255, 42, 109, 0.15);
  color: var(--neon-pink);
  border-color: rgba(255, 42, 109, 0.3);
}

.file-action.view-file:hover {
  background: rgba(0, 170, 255, 0.15);
  color: var(--neon-cyan);
  border-color: rgba(0, 170, 255, 0.3);
}

/* Cell Files Summary (in table view) */
.cell-files-summary {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  font-size: 0.8rem;
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
}

.cell-files-summary:hover {
  background: rgba(191, 90, 242, 0.15);
  color: var(--neon-purple);
}

/* ========================================
   File Upload Modal - Mobile Responsive
   ======================================== */

@media (max-width: 768px) {
  /* Modal nearly full-screen on mobile */
  .modal-file-upload {
    width: 95%;
    max-width: 95%;
    max-height: 90vh;
    margin: 1rem auto;
  }
  
  .modal-file-upload .modal-body {
    padding: 1rem;
  }
  
  /* Smaller but usable drop zone */
  .file-drop-zone {
    padding: 1.25rem;
    margin-bottom: 1rem;
  }
  
  .drop-zone-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }
  
  .drop-zone-text {
    font-size: 0.9rem;
  }
  
  .drop-zone-subtext {
    font-size: 0.75rem;
    margin-bottom: 0.5rem;
  }
  
  /* Touch-friendly browse button (min 44px) */
  .file-drop-zone .browse-btn {
    min-height: 44px;
    padding: 0.75rem 1.25rem;
    font-size: 0.9rem;
  }
  
  /* File list adjustments */
  .file-list {
    max-height: 200px;
    gap: 0.375rem;
  }
  
  /* File items stack content on mobile */
  .file-item {
    flex-wrap: wrap;
    padding: 0.625rem;
    gap: 0.5rem;
  }
  
  .file-item-info {
    flex: 1 1 100%;
    min-width: 0;
  }
  
  .file-icon {
    font-size: 1.25rem;
  }
  
  /* Ensure file names truncate properly */
  .file-name {
    font-size: 0.8rem;
    max-width: calc(100vw - 120px);
  }
  
  .file-size {
    font-size: 0.7rem;
  }
  
  /* Actions row - larger touch targets */
  .file-item-actions {
    flex: 0 0 auto;
    gap: 0.5rem;
    margin-left: auto;
  }
  
  .file-action {
    width: 44px;
    height: 44px;
    font-size: 1.2rem;
    border-radius: 8px;
  }
  
  /* Upload progress */
  .upload-progress {
    padding: 0.75rem;
    margin-bottom: 1rem;
  }
  
  .upload-progress-bar {
    height: 8px;
  }
  
  .upload-progress-text {
    font-size: 0.875rem;
    margin-top: 0.5rem;
  }
  
  /* Upload error */
  .upload-error {
    flex-wrap: wrap;
    padding: 0.625rem 0.75rem;
    gap: 0.375rem;
  }
  
  .upload-error .error-text {
    flex: 1 1 100%;
    font-size: 0.8rem;
  }
  
  .upload-error .error-retry {
    min-height: 44px;
    padding: 0.5rem 1rem;
  }
  
  /* Modal footer buttons - touch friendly */
  .modal-file-upload .modal-footer {
    padding: 1rem;
    gap: 0.75rem;
  }
  
  .modal-file-upload .modal-footer .btn {
    min-height: 44px;
    padding: 0.75rem 1rem;
    flex: 1;
  }
}

/* Even smaller screens (phones) */
@media (max-width: 640px) {
  .modal-file-upload {
    width: 100%;
    max-width: 100%;
    max-height: 100vh;
    border-radius: 0;
    margin: 0;
  }
  
  .modal-file-upload .modal-header {
    border-radius: 0;
  }
  
  .file-drop-zone {
    padding: 1rem;
    border-radius: 8px;
  }
  
  .drop-zone-icon {
    font-size: 1.75rem;
  }
  
  .drop-zone-text {
    font-size: 0.85rem;
  }
  
  .file-list {
    max-height: 180px;
  }
  
  .file-name {
    max-width: calc(100vw - 100px);
  }
}
